(this.webpackJsonpvocabulary=this.webpackJsonpvocabulary||[]).push([[0],{463:function(t,e,n){},465:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),i=n(30),a=n.n(i),o=n(98),u=n(84),l=n(28),s=n(112),d=n(29),j=n(53),b=n(86),f=n(471),O=n(48),h=n(7);function p(t){var e=t.word,n=t.onPartOfSpeechClick,c=t.onDefinitionClick,i=Object(r.useState)(),a=Object(j.a)(i,2),o=a[0],u=a[1];return Object(r.useEffect)((function(){if(""!==e){var t=new AbortController;return fetch("https://api.dictionaryapi.dev/api/v2/entries/en_US/".concat(e),{signal:t.signal}).then((function(t){return t.json()})).then((function(t){u(t[0])})).catch((function(t){return console.error(t)})),function(){return t.abort()}}u(void 0)}),[e]),Object(h.jsx)("ul",{children:null===o||void 0===o?void 0:o.meanings.map((function(t,e){return Object(h.jsxs)("li",{children:[Object(h.jsx)("div",{onClick:function(){return n&&n(t.partOfSpeech)},children:t.partOfSpeech}),Object(h.jsx)("ul",{children:t.definitions.map((function(e,n){return Object(h.jsx)("li",{onClick:function(){return c&&c({partOfSpeech:t.partOfSpeech,definition:e.definition})},children:e.definition},n)}))})]},e)}))})}var v=n(115),x=Object(v.b)({name:"dictionary",initialState:[],reducers:{create:{reducer:function(t,e){return t.concat(e.payload)},prepare:function(t){return{payload:Object(d.a)({id:Date.now()},t)}}},update:function(t,e){var n=t.findIndex((function(t){return t.id===e.payload.id}));return n>-1&&(t[n]=e.payload),t},delete:function(t,e){return t.filter((function(t){return t.id!==e.payload.id}))},answer:function(t,e){var n=e.payload,r=n.entity,c=n.isCorrect,i=t.find((function(t){return t.id===r.id}));i&&(i.answersCount++,c&&i.correctAnswersCount++)}}});function C(t){var e=Object(l.h)().id,n=Object(O.c)((function(t){return e?t.find((function(t){return t.id===parseInt(e)})):void 0})),c=Object(r.useState)(Object(d.a)({word:"",partOfSpeech:"",translation:"",definition:"",answersCount:0,correctAnswersCount:0},null!==n&&void 0!==n?n:{})),i=Object(j.a)(c,2),a=i[0],o=i[1],u=Object(l.g)(),s=function(){return u.push("/")},v=Object(O.b)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b.a,{type:"primary",danger:!0,onClick:function(){return s()},children:"Cancel"}),Object(h.jsx)(b.a,{type:"primary",onClick:function(){v(e?x.actions.update(a):x.actions.create(a)),s()},children:"Confirm"}),Object(h.jsx)(f.a,{placeholder:"Word",value:a.word,onChange:function(t){return o(Object(d.a)(Object(d.a)({},a),{},{word:t.target.value}))}}),Object(h.jsx)(f.a,{placeholder:"Pard ot speech",value:a.partOfSpeech,onChange:function(t){return o(Object(d.a)(Object(d.a)({},a),{},{partOfSpeech:t.target.value}))}}),Object(h.jsx)(f.a,{placeholder:"Translation",value:a.translation,onChange:function(t){return o(Object(d.a)(Object(d.a)({},a),{},{translation:t.target.value}))}}),Object(h.jsx)(f.a.TextArea,{placeholder:"Definition",value:a.definition,onChange:function(t){return o(Object(d.a)(Object(d.a)({},a),{},{definition:t.target.value}))}}),Object(h.jsx)(p,{word:a.word,onPartOfSpeechClick:function(t){return o((function(e){return Object(d.a)(Object(d.a)({},e),{},{partOfSpeech:t})}))},onDefinitionClick:function(t){return o((function(e){return Object(d.a)(Object(d.a)({},e),t)}))}})]})}var m=n(474),g=n(475),y=n(476),w=n(221),S=n(473),k=n(214),A=n.n(k),F=n(79);function I(t){return Object(F.a)(t).sort((function(){return Math.random()>.5?1:-1}))}function N(t,e){var n=I(e.filter((function(e){return e!==t}))).splice(0,3);return I([{isCorrect:!0,entity:t}].concat(Object(F.a)(n.map((function(t){return{isCorrect:!1,entity:t}})))))}function R(t,e){return Object(F.a)(t).sort(e)}function T(t){return t.answersCount+t.correctAnswersCount}function P(t,e){var n=[t,e].map(T),r=Object(j.a)(n,2),c=r[0];return r[1]-c}function D(t){var e=Object(l.g)(),n=Object(O.b)(),r=[{title:"Word",dataIndex:"word",ellipsis:{showTitle:!0}},{title:Object(h.jsx)(w.a,{title:"Total answers / Correct answers",children:"Total / Correct"}),render:function(t,e){return Object(h.jsxs)(h.Fragment,{children:[e.answersCount," / ",e.correctAnswersCount]})}},{title:function(){return Object(h.jsx)(b.a,{type:"primary",onClick:function(){return e.push("/record")},children:Object(h.jsx)(m.a,{})})},render:function(t,r){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b.a,{onClick:function(){return e.push("/record/".concat(r.id))},children:Object(h.jsx)(g.a,{})}),Object(h.jsx)(S.a,{title:"Are you sure to delete this?",onConfirm:function(){n(x.actions.delete(r))},children:Object(h.jsx)(b.a,{children:Object(h.jsx)(y.a,{})})})]})}}],c=Object(O.c)((function(t){return R(t,(function(t,e){var n,r;return(null!==(n=e.id)&&void 0!==n?n:0)-(null!==(r=t.id)&&void 0!==r?r:0)}))}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b.a,{type:"primary",onClick:function(){return e.push("/practice")},children:"Practice"}),Object(h.jsx)(A.a,{columns:r,dataSource:c,size:"middle",rowKey:"id"})]})}var J,B,E,M=n(72),z=n(223);function L(t){var e=t.theme,n=t.children,r=t.className,c=Object(z.a)(t,["theme","children","className"]);return Object(h.jsx)("button",Object(d.a)(Object(d.a)({},c),{},{className:"btn btn-".concat(null!==e&&void 0!==e?e:"primary"," ").concat(null!==r&&void 0!==r?r:""),children:n}))}var W,K=s.a.div(J||(J=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"])));!function(t){t[t.translation=0]="translation",t[t.definition=1]="definition"}(W||(W={}));var U=(B={},Object(M.a)(B,W.definition,(function(t){return""!==t.definition})),Object(M.a)(B,W.translation,(function(t){return""!==t.translation})),B),_=(E={},Object(M.a)(E,W.definition,(function(t){return t.definition})),Object(M.a)(E,W.translation,(function(t){return t.translation})),E);function q(t){var e=Object(r.useState)(),n=Object(j.a)(e,2),c=n[0],i=n[1],a=Object(l.g)();return Object(h.jsxs)(h.Fragment,{children:[void 0===c?Object(h.jsx)(H,{onSelect:i}):Object(h.jsx)(Q,Object(d.a)({knowledge:c},t)),Object(h.jsx)("div",{children:Object(h.jsx)("hr",{})}),Object(h.jsx)(L,{onClick:function(){return a.push("/")},children:"End practice"})]})}var G,H=function(t){var e=t.onSelect;return Object(h.jsx)(K,{children:[W.definition,W.translation].map((function(t){return Object(h.jsx)(L,{onClick:function(){return e&&e(t)},children:W[t]},t)}))})},Q=function(t){var e=t.knowledge,n=Object(O.c)((function(t){return t})),c=Object(r.useMemo)((function(){return n.filter(U[e])}),[n,e]),i=Object(r.useState)((function(){var t=R(c,P),e=t.pop();return{stack:t,actualRecord:e,actualAnswersSet:e?N(e,c):[]}})),a=Object(j.a)(i,2),o=a[0],u=a[1],l=Object(r.useState)(),s=Object(j.a)(l,2),d=s[0],b=s[1],f=Object(O.b)();return Object(h.jsxs)(h.Fragment,{children:[(null===o||void 0===o?void 0:o.actualRecord)&&Object(h.jsxs)("div",{style:{textAlign:"center"},children:[o.actualRecord.word," (",Object(h.jsx)("i",{children:o.actualRecord.partOfSpeech}),")"]}),Object(h.jsx)(K,{children:null===o||void 0===o?void 0:o.actualAnswersSet.map((function(t){return Object(h.jsx)(L,{disabled:Boolean(d),onClick:function(){return function(t){b(t),(null===o||void 0===o?void 0:o.actualRecord)&&f(x.actions.answer({isCorrect:t.isCorrect,entity:o.actualRecord}))}(t)},theme:t.isCorrect&&d?"success":t.isCorrect||t!==d?"secondary":"danger",children:_[e](t.entity)},t.entity.id)}))}),d&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:Object(h.jsx)("hr",{})}),Object(h.jsx)(L,{onClick:function(){u((function(t){var e,n=Object(F.a)(null!==(e=null===t||void 0===t?void 0:t.stack)&&void 0!==e?e:[]),r=n.pop();return{stack:n,actualRecord:r,actualAnswersSet:r?N(r,null!==c&&void 0!==c?c:[]):[]}})),b(void 0)},children:"Next word"})]})]})},V=s.a.div(G||(G=Object(o.a)(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  font-size: calc(10px + 2vmin);\n  color: white;\n"])));function X(){return Object(h.jsx)(V,{className:"bg-dark",children:Object(h.jsx)(u.a,{children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"/record/:id?",children:Object(h.jsx)(C,{})}),Object(h.jsx)(l.b,{path:"/practice",children:Object(h.jsx)(q,{})}),Object(h.jsx)(l.b,{path:"/list",children:Object(h.jsx)(D,{})}),Object(h.jsx)(l.a,{to:"/list"})]})})})}var Y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,477)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),r(t),c(t),i(t),a(t)}))},Z=(n(461),n(462),n(463),"vocabulary"),$=localStorage.getItem(Z),tt=Object(v.a)({reducer:x.reducer,preloadedState:$?JSON.parse($):void 0});tt.subscribe((function(){localStorage.setItem(Z,JSON.stringify(tt.getState()))})),a.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(O.a,{store:tt,children:Object(h.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[465,1,2]]]);
//# sourceMappingURL=main.f0eb6549.chunk.js.map