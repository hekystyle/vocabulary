(this.webpackJsonpvocabulary=this.webpackJsonpvocabulary||[]).push([[0],{486:function(e,t,n){},488:function(e,t,n){"use strict";n.r(t);var r,c=n(0),i=n.n(c),a=n(25),o=n.n(a),u=n(74),s=n(61),l=n(32),j=n(75),d=n(9),b=n(41),O=n(499),f=n(96),h=n(52),p=n(162),x=n.n(p),v=n(230),m=n(231),g=n(232),C=function(){function e(){Object(m.a)(this,e),this.controller=new AbortController}return Object(g.a)(e,[{key:"abort",value:function(){this.controller.abort()}},{key:"word",value:function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.dictionaryapi.dev/api/v2/entries/en_US/".concat(t),{headers:{Accept:"application/json"},signal:this.controller.signal});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),w=n(5),y=j.a.ul(r||(r=Object(u.a)(["\n  color: white;\n"])));function S(e){var t=e.word,n=e.onPartOfSpeechClick,r=e.onDefinitionClick,i=Object(c.useState)(),a=Object(b.a)(i,2),o=a[0],u=a[1];return Object(c.useEffect)((function(){if(""!==t){var e=new C;return e.word(t).then((function(e){u(e[0])})).catch((function(e){return console.error(e)})),function(){return e.abort()}}u(void 0)}),[t]),Object(w.jsx)(y,{children:null===o||void 0===o?void 0:o.meanings.map((function(e,t){return Object(w.jsxs)("li",{children:[Object(w.jsx)("div",{onClick:function(){return n&&n(e.partOfSpeech)},children:e.partOfSpeech}),Object(w.jsx)("ul",{children:e.definitions.map((function(t,n){return Object(w.jsx)("li",{onClick:function(){return r&&r({partOfSpeech:e.partOfSpeech,definition:t.definition})},children:t.definition},n)}))})]},t)}))})}var k=n(126),N=n(57),A=Object(k.b)({name:"dictionary",initialState:[],reducers:{create:{reducer:function(e,t){return e.concat(t.payload)},prepare:function(e){return{payload:Object(d.a)({id:Date.now()},e)}}},update:function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));return n>-1&&(e[n]=t.payload),e},delete:function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))},answer:function(e,t){var n=t.payload,r=n.entity,c=n.isCorrect,i=e.find((function(e){return e.id===r.id}));i&&(i.answersCount++,c&&i.correctAnswersCount++)}}}),F=Object(N.b)({dictionary:A.reducer});function I(e){var t=Object(l.i)().id,n=Object(h.c)((function(e){return t?e.dictionary.find((function(e){return e.id===parseInt(t)})):void 0})),r=Object(c.useState)(Object(d.a)({word:"",partOfSpeech:"",translation:"",definition:"",answersCount:0,correctAnswersCount:0},null!==n&&void 0!==n?n:{})),i=Object(b.a)(r,2),a=i[0],o=i[1],u=Object(l.g)(),s=function(){return u.push("/")},j=Object(h.b)(),p=function(e){return o((function(t){return Object(d.a)(Object(d.a)({},t),e)}))};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{placeholder:"Word",value:a.word,onChange:function(e){return p({word:e.target.value})}}),Object(w.jsx)(O.a,{placeholder:"Part ot speech",value:a.partOfSpeech,onChange:function(e){return p({partOfSpeech:e.target.value})}}),Object(w.jsx)(O.a,{placeholder:"Translation",value:a.translation,onChange:function(e){return p({translation:e.target.value})}}),Object(w.jsx)(O.a.TextArea,{placeholder:"Definition",value:a.definition,onChange:function(e){return p({definition:e.target.value})}}),Object(w.jsx)(f.a,{type:"primary",onClick:function(){j(t?A.actions.update(a):A.actions.create(a)),s()},children:"Confirm"}),Object(w.jsx)(f.a,{type:"primary",danger:!0,onClick:function(){return s()},children:"Cancel"}),Object(w.jsx)(S,{word:a.word,onPartOfSpeechClick:function(e){return p({partOfSpeech:e})},onDefinitionClick:function(e){return p(e)}})]})}function T(){var e=Object(l.j)().path;return Object(w.jsxs)(l.d,{children:[Object(w.jsx)(l.b,{path:"".concat(e,"/:id?"),component:I}),Object(w.jsx)(l.a,{to:"".concat(e)})]})}var P=n(504),D=n(505),J=n(506),L=n(243),E=n(502),M=n(236),z=n.n(M),B=n(81);function W(e){return Object(B.a)(e).sort((function(){return Math.random()>.5?1:-1}))}function G(e){return e.answersCount+e.correctAnswersCount}function K(e){var t=Object(l.g)(),n=Object(h.b)(),r=[{title:"Word",dataIndex:"word",ellipsis:{showTitle:!0}},{title:Object(w.jsx)(L.a,{title:"Total answers / Correct answers",children:"Total / Correct"}),render:function(e,t){return Object(w.jsxs)(w.Fragment,{children:[t.answersCount," / ",t.correctAnswersCount]})}},{title:function(){return Object(w.jsx)(f.a,{type:"primary",onClick:function(){return t.push("/record")},children:Object(w.jsx)(P.a,{})})},render:function(e,r){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(f.a,{onClick:function(){return t.push("/record/".concat(r.id))},children:Object(w.jsx)(D.a,{})}),Object(w.jsx)(E.a,{title:"Are you sure to delete this?",onConfirm:function(){n(A.actions.delete(r))},children:Object(w.jsx)(f.a,{children:Object(w.jsx)(J.a,{})})})]})}}],c=Object(h.c)((function(e){return function(e,t){return Object(B.a)(e).sort(t)}(e.dictionary,(function(e,t){var n,r;return(null!==(n=t.id)&&void 0!==n?n:0)-(null!==(r=e.id)&&void 0!==r?r:0)}))}));return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(z.a,{columns:r,dataSource:c,size:"middle",rowKey:"id"})})}var R=function(){var e=Object(l.j)().path;return Object(w.jsx)(l.d,{children:Object(w.jsx)(l.b,{path:"".concat(e),component:K})})},U=n(20);function _(e){var t=e.theme,n=e.children,r=e.className,c=Object(U.a)(e,["theme","children","className"]);return Object(w.jsx)("button",Object(d.a)(Object(d.a)({},c),{},{className:"btn btn-".concat(null!==t&&void 0!==t?t:"primary"," ").concat(null!==r&&void 0!==r?r:""),children:n}))}var q,H=n(34),Q=function(e){var t=e.children,n=e.className,r=Object(U.a)(e,["children","className"]);return Object(w.jsx)("div",Object(d.a)(Object(d.a)({className:"card "+(null!==n&&void 0!==n?n:"")},r),{},{children:t}))},V=function(e){var t=e.children,n=e.className,r=Object(U.a)(e,["children","className"]);return Object(w.jsx)("div",Object(d.a)(Object(d.a)({className:"card-body "+(null!==n&&void 0!==n?n:"")},r),{},{children:t}))},X=n(503),Y=n(500);!function(e){e[e.relative=0]="relative",e[e.absolute=1]="absolute"}(q||(q={}));var Z,$,ee,te=function(e){var t=e.onConfirm,n=Object(c.useState)(q.relative),r=Object(b.a)(n,2),i=r[0],a=r[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Y.a,{value:i,options:[{value:q.relative,label:"relative"},{value:q.absolute,label:"absolute"}],onSelect:function(e,t){return a(t.value)}}),Object(w.jsx)(_,{onClick:function(){return t&&t({scoreAlgorithm:i})},children:"Start session"})]})},ne=Object(j.a)(V)(Z||(Z=Object(u.a)(["\n  overflow: auto;\n"]))),re=($={},Object(H.a)($,q.relative,(function(e){var t=e.answersCount,n=e.correctAnswersCount;return Math.floor(100/t*n)})),Object(H.a)($,q.absolute,G),$),ce=function(e){var t=e.config.scoreAlgorithm,n=Object(h.c)((function(e){return e.dictionary})),r=function(e,t){var n=Object(c.useState)((function(){var n=e.filter((function(e){return""!==e.translation||""!==e.definition})).map((function(e){return{id:e.id,score:t(e)}})).sort((function(e,t){return t.score-e.score})),r=Object(X.a)((function(e,t){return e.score===t.score}),n).map((function(e){return W(e)})).reduce((function(e,t){return[].concat(Object(B.a)(e),Object(B.a)(t.map((function(e){var t;return null!==(t=e.id)&&void 0!==t?t:-1})).filter((function(e){return-1!==e}))))}),[]),c=r.pop();return{stack:r,selected:c}})),r=Object(b.a)(n,2),i=r[0].selected,a=r[1];return{selected:i,next:function(){return a((function(e){var t,n=Object(B.a)(null!==(t=null===e||void 0===e?void 0:e.stack)&&void 0!==t?t:[]),r=n.pop();return{stack:n,selected:r}}))}}}(n,re[t]),i=r.selected,a=r.next,o=Object(c.useState)(!1),u=Object(b.a)(o,2),s=u[0],l=u[1],j=n.find((function(e){return e.id===i})),d=Object(h.b)(),O=function(e){j&&d(A.actions.answer({isCorrect:e,entity:j})),l(!1),a()};return j?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Q,{children:Object(w.jsxs)(V,{className:"text-center",children:[Object(w.jsx)("div",{children:j.translation}),Object(w.jsxs)("div",{children:["(",Object(w.jsx)("i",{children:j.partOfSpeech}),")"]})]})}),Object(w.jsx)(Q,{children:Object(w.jsx)(ne,{className:"text-center",children:j.definition})}),Object(w.jsx)(Q,{children:Object(w.jsx)(V,{className:"text-center",children:s?j.word:"?"})}),s?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(_,{theme:"success",onClick:function(){return O(!0)},children:"I was correct"}),Object(w.jsx)(_,{theme:"danger",onClick:function(){return O(!1)},children:"I was incorrect"})]}):Object(w.jsx)(_,{onClick:function(){return l(!0)},children:"Reveal answer"})]}):null},ie=j.a.div(ee||(ee=Object(u.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"])));function ae(e){var t=Object(c.useState)(),n=Object(b.a)(t,2),r=n[0],i=n[1],a=Object(l.g)();return Object(w.jsxs)(ie,{children:[r?Object(w.jsx)(ce,{config:r}):Object(w.jsx)(te,{onConfirm:i}),Object(w.jsx)(_,{onClick:function(){return a.push("/")},children:"End practice"})]})}function oe(){var e=Object(l.j)().path;return Object(w.jsxs)(l.d,{children:[Object(w.jsx)(l.b,{path:"".concat(e),exact:!0,component:ae}),Object(w.jsx)(l.a,{to:e})]})}var ue,se=n(497),le=n(496),je=n(498),de=[{title:"List",path:"/list"},{title:"Practice",path:"/practice"}],be=function(){var e=Object(l.g)(),t=Object(l.h)().pathname;return Object(w.jsx)(se.a,{variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(w.jsxs)(le.a,{children:[Object(w.jsx)(se.a.Toggle,{style:{flexGrow:1}}),Object(w.jsx)(se.a.Collapse,{children:Object(w.jsx)(je.a,{children:de.map((function(n,r){var c=n.title,i=n.path;return Object(w.jsx)(je.a.Link,{href:"#",active:i===t,onSelect:function(){return e.push(i)},children:c},r)}))})})]})})},Oe=j.a.div(ue||(ue=Object(u.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  font-size: calc(10px + 2vmin);\n"])));function fe(){return Object(w.jsx)(s.a,{children:Object(w.jsxs)(Oe,{className:"bg-dark",children:[Object(w.jsx)(be,{}),Object(w.jsxs)(l.d,{children:[Object(w.jsx)(l.b,{path:"/record",component:T}),Object(w.jsx)(l.b,{path:"/practice",component:oe}),Object(w.jsx)(l.b,{path:"/list",component:R}),Object(w.jsx)(l.a,{to:"/list"})]})]})})}var he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,507)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))},pe=(n(484),n(485),n(486),"vocabulary");var xe=Object(k.a)({reducer:F,preloadedState:{dictionary:function(){var e=localStorage.getItem(pe);return e?JSON.parse(e):void 0}()}});xe.subscribe((function(){var e,t=xe.getState();e=t.dictionary,localStorage.setItem(pe,JSON.stringify(e))})),o.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(h.a,{store:xe,children:Object(w.jsx)(fe,{})})}),document.getElementById("root")),he()}},[[488,1,2]]]);
//# sourceMappingURL=main.ad704612.chunk.js.map