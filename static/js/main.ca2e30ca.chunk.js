(this.webpackJsonpvocabulary=this.webpackJsonpvocabulary||[]).push([[0],{246:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),i=n(28),o=n.n(i),s=n(46),u=n(58),l=n(25),j=n(47),d=n(9),b=n(34),f=n(258),O=n(42),h=n(35),p=n(120),v=n.n(p),x=n(139),m=n(140),g=n(141),y=function(){function e(){Object(m.a)(this,e),this.controller=new AbortController}return Object(g.a)(e,[{key:"abort",value:function(){this.controller.abort()}},{key:"word",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.dictionaryapi.dev/api/v2/entries/en_US/".concat(t),{headers:{Accept:"application/json"},signal:this.controller.signal});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),C=n(6),w=j.a.ul(c||(c=Object(s.a)(["\n  color: white;\n"])));function k(e){var t=e.word,n=e.onPartOfSpeechClick,c=e.onDefinitionClick,a=Object(r.useState)(),i=Object(b.a)(a,2),o=i[0],s=i[1];return Object(r.useEffect)((function(){if(""!==t){var e=new y;return e.word(t).then((function(e){s(e[0])})).catch((function(e){return console.error(e)})),function(){return e.abort()}}s(void 0)}),[t]),Object(C.jsx)(w,{children:null===o||void 0===o?void 0:o.meanings.map((function(e,t){return Object(C.jsxs)("li",{children:[Object(C.jsx)("div",{onClick:function(){return n&&n(e.partOfSpeech)},children:e.partOfSpeech}),Object(C.jsx)("ul",{children:e.definitions.map((function(t,n){return Object(C.jsx)("li",{onClick:function(){return c&&c({partOfSpeech:e.partOfSpeech,definition:t.definition})},children:t.definition},n)}))})]},t)}))})}var S=n(64),A=n(52),N=Object(S.b)({name:"dictionary",initialState:[],reducers:{create:{reducer:function(e,t){return e.concat(t.payload)},prepare:function(e){return{payload:Object(d.a)(Object(d.a)({},e),{},{id:Date.now()})}}},update:function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));return n>-1&&(e[n]=t.payload),e},delete:function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))},answer:function(e,t){var n=t.payload,c=n.entity,r=n.isCorrect,a=e.find((function(e){return e.id===c.id}));a&&(a.answersCount++,r&&a.correctAnswersCount++)}}}),F=Object(S.b)({name:"records/table",initialState:{page:1},reducers:{update:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),n)}}}),R=Object(A.b)({table:F.reducer});function I(e){var t=Object(l.i)().id,n=Object(h.c)((function(e){return t?e.dictionary.find((function(e){return e.id===parseInt(t)})):void 0})),c=Object(r.useState)(Object(d.a)({id:0,word:"",partOfSpeech:"",translation:"",definition:"",answersCount:0,correctAnswersCount:0},null!==n&&void 0!==n?n:{})),a=Object(b.a)(c,2),i=a[0],o=a[1],s=Object(l.g)(),u=function(){return s.push("/")},j=Object(h.b)(),p=function(e){return o((function(t){return Object(d.a)(Object(d.a)({},t),e)}))};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(f.a,{placeholder:"Word",value:i.word,onChange:function(e){return p({word:e.target.value})}}),Object(C.jsx)(f.a,{placeholder:"Part ot speech",value:i.partOfSpeech,onChange:function(e){return p({partOfSpeech:e.target.value})}}),Object(C.jsx)(f.a,{placeholder:"Translation",value:i.translation,onChange:function(e){return p({translation:e.target.value})}}),Object(C.jsx)(f.a.TextArea,{placeholder:"Definition",value:i.definition,onChange:function(e){return p({definition:e.target.value})}}),Object(C.jsx)(O.a,{type:"primary",onClick:function(){j(t?N.actions.update(i):N.actions.create(i)),u()},children:"Confirm"}),Object(C.jsx)(O.a,{type:"primary",danger:!0,onClick:function(){return u()},children:"Cancel"}),Object(C.jsx)(k,{word:i.word,onPartOfSpeechClick:function(e){return p({partOfSpeech:e})},onDefinitionClick:function(e){return p(e)}})]})}function P(){var e=Object(l.j)().path;return Object(C.jsxs)(l.d,{children:[Object(C.jsx)(l.b,{path:"".concat(e,"/:id?"),component:I}),Object(C.jsx)(l.a,{to:"".concat(e)})]})}var T,D=n(262),E=n(263),J=n(264),L=n(74),M=n(259),z=n(252),B=h.c,U=n(255);function W(e){var t=Object(j.a)((function(e){return Object(C.jsx)(U.a,Object(d.a)({},e))}))(T||(T=Object(s.a)(["\n    .ant-pagination {\n      background-color: white;\n      padding: 16px 0;\n      margin: 0;\n    }\n  "])));return Object(C.jsx)(t,Object(d.a)({},e))}function G(e){var t=Object(l.g)(),n=Object(h.b)(),c=[{title:"Word",dataIndex:"word",ellipsis:{showTitle:!0}},{title:Object(C.jsx)(L.a,{title:"Total answers / Correct answers",children:"Total / Correct"}),render:function(e,t){return Object(C.jsxs)(C.Fragment,{children:[t.answersCount," / ",t.correctAnswersCount]})}},{title:function(){return Object(C.jsx)(O.a,{type:"primary",onClick:function(){return t.push("/record")},children:Object(C.jsx)(D.a,{})})},render:function(e,c){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{onClick:function(){return t.push("/record/".concat(c.id))},children:Object(C.jsx)(E.a,{})}),Object(C.jsx)(M.a,{title:"Are you sure to delete this?",onConfirm:function(){n(N.actions.delete(c))},children:Object(C.jsx)(O.a,{children:Object(C.jsx)(J.a,{})})})]})}}],r=Object(h.c)((function(e){return Object(z.a)((function(e,t){var n,c;return(null!==(n=t.id)&&void 0!==n?n:0)-(null!==(c=e.id)&&void 0!==c?c:0)}),e.dictionary)})),a=B((function(e){return e.records.table.page}));return Object(C.jsx)(W,{columns:c,dataSource:r,size:"middle",rowKey:"id",pagination:{defaultCurrent:a,onChange:function(e){return n(F.actions.update({page:e}))}}})}var K=function(){var e=Object(l.j)().path;return Object(C.jsx)(l.d,{children:Object(C.jsx)(l.b,{path:"".concat(e),component:G})})},_=n(22),q=["theme","children","className"];function H(e){var t=e.theme,n=e.children,c=e.className,r=Object(_.a)(e,q);return Object(C.jsx)("button",Object(d.a)(Object(d.a)({},r),{},{className:"btn btn-".concat(null!==t&&void 0!==t?t:"primary"," ").concat(null!==c&&void 0!==c?c:""),children:n}))}var Q=["children","className"],V=function(e){var t=e.children,n=e.className,c=Object(_.a)(e,Q);return Object(C.jsx)("div",Object(d.a)(Object(d.a)({className:"card "+(null!==n&&void 0!==n?n:"")},c),{},{children:t}))},X=["children","className"],Y=function(e){var t=e.children,n=e.className,c=Object(_.a)(e,X);return Object(C.jsx)("div",Object(d.a)(Object(d.a)({className:"card-body "+(null!==n&&void 0!==n?n:"")},c),{},{children:t}))},Z=n(260),$=n(84),ee=n(29),te=n(253);var ne,ce;!function(e){e[e.relative=0]="relative",e[e.absolute=1]="absolute"}(ce||(ce={}));var re,ae,ie,oe=(ne={},Object(ee.a)(ne,ce.relative,(function(e){var t=e.answersCount,n=e.correctAnswersCount;return Math.floor(100/t*n)})),Object(ee.a)(ne,ce.absolute,(function(e){return e.answersCount+e.correctAnswersCount})),ne),se={config:void 0,isActive:!1,stack:[],isRevealed:!1},ue=Object(S.b)({name:"practice/session",initialState:se,reducers:{start:{reducer:function(e,t){var n=t.payload,c=n.stack;return{config:n.config,isActive:!0,stack:c,isRevealed:!1}},prepare:function(e,t){var n=t.filter((function(e){return""!==e.translation||""!==e.definition})).map((function(t){return{id:t.id,score:oe[e.scoreAlgorithm](t)}})).sort((function(e,t){return t.score-e.score})),c=Object(te.a)((function(e,t){return e.score===t.score}),n).map((function(e){return t=e,Object($.a)(t).sort((function(){return Math.random()>.5?1:-1}));var t})).reduce((function(e,t){return[].concat(Object($.a)(e),Object($.a)(t.map((function(e){return e.id}))))}),[]);return{payload:{config:e,stack:c}}}},reveal:function(e){return Object(d.a)(Object(d.a)({},e),{},{isRevealed:!0})},next:function(e){return e.stack.pop(),e.isRevealed=!1,e},close:function(){return{config:void 0,isActive:!1,stack:[],isRevealed:!1}}}}),le=Object(A.b)({session:ue.reducer}),je=Object(j.a)(Y)(re||(re=Object(s.a)(["\n  overflow: auto;\n"]))),de=j.a.div(ae||(ae=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n"]))),be=function(){var e=B((function(e){return e.practice.session.isRevealed})),t=B((function(e){return e.dictionary.find((function(t){return t.id===Object(Z.a)(e.practice.session.stack)}))})),n=function(){var e=window.speechSynthesis;return Object(r.useEffect)((function(){return function(){return e.cancel()}}),[e]),{speak:function(t){e.cancel();var n=new SpeechSynthesisUtterance(t);e.speak(n)}}}().speak,c=B((function(e){var t;return null===(t=e.practice.session.config)||void 0===t?void 0:t.playAfterReveal})),a=Object(h.b)(),i=function(e){t&&a(N.actions.answer({isCorrect:e,entity:t})),a(ue.actions.next())},o=Object(l.g)();return Object(C.jsxs)(C.Fragment,{children:[t&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(V,{children:Object(C.jsxs)(Y,{className:"text-center",children:[Object(C.jsx)("div",{children:t.translation}),Object(C.jsxs)("div",{children:["(",Object(C.jsx)("i",{children:t.partOfSpeech}),")"]})]})}),Object(C.jsx)(V,{children:Object(C.jsx)(je,{className:"text-center",children:t.definition})}),Object(C.jsx)(V,{children:Object(C.jsx)(Y,{className:"text-center",children:e?Object(C.jsxs)(de,{children:[t.word,Object(C.jsx)(H,{onClick:function(){return n(t.word)},children:"Play it again"})]}):"?"})}),e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(H,{theme:"success",onClick:function(){return i(!0)},children:"I was correct"}),Object(C.jsx)(H,{theme:"danger",onClick:function(){return i(!1)},children:"I was incorrect"})]}):Object(C.jsx)(H,{onClick:function(){a(ue.actions.reveal()),t&&c&&n(t.word)},children:"Reveal answer"}),Object(C.jsx)(H,{onClick:function(){o.push("record/".concat(null===t||void 0===t?void 0:t.id))},children:"Edit current term"})]}),Object(C.jsx)(H,{onClick:function(){a(ue.actions.close())},children:"End session"})]})},fe=n(83),Oe=n(261),he=function(){var e=Object(r.useState)({scoreAlgorithm:ce.relative,playAfterReveal:!1}),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(h.b)(),i=B((function(e){return e.dictionary})),o=function(e){return c((function(t){return Object(d.a)(Object(d.a)({},t),e)}))},s=n.scoreAlgorithm,u=n.playAfterReveal;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(fe.a,{value:s,options:[{value:ce.relative,label:"relative"},{value:ce.absolute,label:"absolute"}],onSelect:function(e,t){return o({scoreAlgorithm:t.value})}}),Object(C.jsx)(Oe.a,{checked:u,checkedChildren:"Play word after reveal",unCheckedChildren:"Play word after reveal",onChange:function(e){return o({playAfterReveal:e})}}),Object(C.jsx)(H,{onClick:function(){a(ue.actions.start(n,i))},children:"Start session"})]})},pe=j.a.div(ie||(ie=Object(s.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"])));function ve(e){var t=B((function(e){return e.practice.session.isActive}));return Object(C.jsx)(pe,{children:t?Object(C.jsx)(be,{}):Object(C.jsx)(he,{})})}function xe(){var e=Object(l.j)().path;return Object(C.jsxs)(l.d,{children:[Object(C.jsx)(l.b,{path:"".concat(e),exact:!0,component:ve}),Object(C.jsx)(l.a,{to:e})]})}var me,ge=n(256),ye=n(254),Ce=n(257),we=[{title:"List",path:"/list"},{title:"Practice",path:"/practice"}],ke=function(){var e=Object(l.g)(),t=Object(l.h)().pathname;return Object(C.jsx)(ge.a,{variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(C.jsxs)(ye.a,{children:[Object(C.jsx)(ge.a.Toggle,{style:{flexGrow:1}}),Object(C.jsx)(ge.a.Collapse,{children:Object(C.jsx)(Ce.a,{children:we.map((function(n,c){var r=n.title,a=n.path;return Object(C.jsx)(Ce.a.Link,{href:"#",active:a===t,onClick:function(){return e.push(a)},children:r},c)}))})})]})})},Se=j.a.div(me||(me=Object(s.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  font-size: calc(10px + 2vmin);\n"])));function Ae(){return Object(C.jsx)(u.a,{children:Object(C.jsxs)(Se,{className:"bg-dark",children:[Object(C.jsx)(ke,{}),Object(C.jsxs)(l.d,{children:[Object(C.jsx)(l.b,{path:"/record",component:P}),Object(C.jsx)(l.b,{path:"/practice",component:xe}),Object(C.jsx)(l.b,{path:"/list",component:K}),Object(C.jsx)(l.a,{to:"/list"})]})]})})}var Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,265)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},Fe=(n(244),n(245),n(246),Object(A.b)({records:R,dictionary:N.reducer,practice:le})),Re="vocabulary";var Ie=Object(S.a)({reducer:Fe,preloadedState:{dictionary:function(){var e=localStorage.getItem(Re);return e?JSON.parse(e):void 0}()}});Ie.subscribe((function(){var e,t=Ie.getState();e=t.dictionary,localStorage.setItem(Re,JSON.stringify(e))})),o.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(h.a,{store:Ie,children:Object(C.jsx)(Ae,{})})}),document.getElementById("root")),Ne()}},[[247,1,2]]]);
//# sourceMappingURL=main.ca2e30ca.chunk.js.map