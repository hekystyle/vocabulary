{"version":3,"file":"static/js/45.cafe9639.chunk.js","mappings":"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","sources":["utils/options.ts","components/Tags.tsx","../node_modules/react-bootstrap/esm/Button.js","../node_modules/react-bootstrap/esm/CardImg.js","../node_modules/react-bootstrap/esm/CardHeader.js","../node_modules/react-bootstrap/esm/Card.js","routes/practice/api/increaseTermAnswers.ts","routes/practice/store.ts","routes/practice/components/PracticeSession.tsx","routes/practice/useSpeech.ts","routes/records/constants.ts","../node_modules/rc-switch/es/index.js","../node_modules/antd/es/switch/style/index.js","../node_modules/antd/es/switch/index.js","routes/practice/constants.ts","utils/shuffle.ts","utils/computeAnswersRelativeScore.ts","utils/computeAnswersAbsoluteScore.ts","routes/practice/components/Configuration.tsx","routes/practice/api/prepareSessionQueue.ts","utils/hasTranslation.ts","utils/hasDefinition.ts","routes/practice/Page.tsx","utils/queryKeys.ts"],"sourcesContent":["import { DefaultOptionType } from 'antd/es/select';\n\nexport function options<T extends DefaultOptionType['value']>(values: readonly T[]): DefaultOptionType[] {\n  return values.map(value => ({\n    label: value,\n    value,\n  }));\n}\n","import { Select, SelectProps } from 'antd';\nimport { useServices } from 'containers/Services';\nimport { FC, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { options } from 'utils/options';\nimport { QUERY_KEYS } from 'utils/queryKeys';\n\nexport const Tags: FC<Pick<SelectProps<string[]>, 'defaultValue' | 'value' | 'onChange' | 'style'>> = ({\n  defaultValue,\n  onChange,\n  value,\n  style,\n}) => {\n  const [search, setSearch] = useState<string>('');\n  const { termsRepository } = useServices();\n\n  const { data: uniqueTagsOptions, isFetching: loadingUniqueTags } = useQuery(\n    QUERY_KEYS.terms.tags.all(),\n    ({ signal }) => termsRepository.getUniqueTags(search, signal),\n    {\n      select: options,\n    },\n  );\n\n  return (\n    <Select\n      allowClear\n      aria-label=\"Tags\"\n      defaultValue={defaultValue}\n      loading={loadingUniqueTags}\n      mode=\"tags\"\n      options={uniqueTagsOptions}\n      placeholder=\"Tags\"\n      style={style}\n      value={value}\n      onChange={onChange}\n      onSearch={setSearch}\n    />\n  );\n};\n","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useButtonProps } from '@restart/ui/Button';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  variant: 'primary',\n  active: false,\n  disabled: false\n};\nconst Button = /*#__PURE__*/React.forwardRef(({\n  as,\n  bsPrefix,\n  variant,\n  size,\n  active,\n  className,\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'btn');\n  const [buttonProps, {\n    tagName\n  }] = useButtonProps({\n    tagName: as,\n    ...props\n  });\n  const Component = tagName;\n  return /*#__PURE__*/_jsx(Component, {\n    ...buttonProps,\n    ...props,\n    ref: ref,\n    className: classNames(className, prefix, active && 'active', variant && `${prefix}-${variant}`, size && `${prefix}-${size}`, props.href && props.disabled && 'disabled')\n  });\n});\nButton.displayName = 'Button';\nButton.defaultProps = defaultProps;\nexport default Button;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst CardImg = /*#__PURE__*/React.forwardRef(\n// Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n({\n  bsPrefix,\n  className,\n  variant,\n  as: Component = 'img',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'card-img');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(variant ? `${prefix}-${variant}` : prefix, className),\n    ...props\n  });\n});\nCardImg.displayName = 'CardImg';\nexport default CardImg;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport CardHeaderContext from './CardHeaderContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst CardHeader = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'card-header');\n  const contextValue = useMemo(() => ({\n    cardHeaderBsPrefix: prefix\n  }), [prefix]);\n  return /*#__PURE__*/_jsx(CardHeaderContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(Component, {\n      ref: ref,\n      ...props,\n      className: classNames(className, prefix)\n    })\n  });\n});\nCardHeader.displayName = 'CardHeader';\nexport default CardHeader;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport divWithClassName from './divWithClassName';\nimport CardImg from './CardImg';\nimport CardHeader from './CardHeader';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DivStyledAsH5 = divWithClassName('h5');\nconst DivStyledAsH6 = divWithClassName('h6');\nconst CardBody = createWithBsPrefix('card-body');\nconst CardTitle = createWithBsPrefix('card-title', {\n  Component: DivStyledAsH5\n});\nconst CardSubtitle = createWithBsPrefix('card-subtitle', {\n  Component: DivStyledAsH6\n});\nconst CardLink = createWithBsPrefix('card-link', {\n  Component: 'a'\n});\nconst CardText = createWithBsPrefix('card-text', {\n  Component: 'p'\n});\nconst CardFooter = createWithBsPrefix('card-footer');\nconst CardImgOverlay = createWithBsPrefix('card-img-overlay');\nconst defaultProps = {\n  body: false\n};\nconst Card = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  bg,\n  text,\n  border,\n  body,\n  children,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'card');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, prefix, bg && `bg-${bg}`, text && `text-${text}`, border && `border-${border}`),\n    children: body ? /*#__PURE__*/_jsx(CardBody, {\n      children: children\n    }) : children\n  });\n});\nCard.displayName = 'Card';\nCard.defaultProps = defaultProps;\nexport default Object.assign(Card, {\n  Img: CardImg,\n  Title: CardTitle,\n  Subtitle: CardSubtitle,\n  Body: CardBody,\n  Link: CardLink,\n  Text: CardText,\n  Header: CardHeader,\n  Footer: CardFooter,\n  ImgOverlay: CardImgOverlay\n});","import { AppDb } from 'services/db';\n\nexport const increaseTermAnswers =\n  (db: AppDb) =>\n  async (id: number, increaseCorrect: boolean): Promise<void> => {\n    const term = await db.terms.get(id);\n    if (term) {\n      term.answersCount += 1;\n      if (increaseCorrect) term.correctAnswersCount += 1;\n      await db.terms.put(term);\n    }\n  };\n","import { atom } from 'recoil';\nimport { Term } from 'types/Term';\nimport { ScoreAlgorithm } from './constants';\n\nexport interface Config {\n  scoreAlgorithm: ScoreAlgorithm;\n  playAfterReveal: boolean;\n  ignoreScoreOfNewTerms: boolean;\n  tags: string[];\n}\n\nexport interface PracticeSession {\n  config: Config | undefined;\n  isActive: boolean;\n  queue: Array<Term['id']>;\n  isRevealed: boolean;\n}\n\nexport const sessionState = atom<PracticeSession>({\n  key: 'practice/session',\n  default: {\n    config: undefined,\n    isActive: false,\n    queue: [],\n    isRevealed: false,\n  },\n});\n","import { FC } from 'react';\nimport styled from 'styled-components';\nimport { Button } from 'components/Button';\nimport { Card } from 'components/Card';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { RETURN_URL_FIELD } from 'routes/records/constants';\nimport { useServices } from 'containers/Services';\nimport { useMutation, useQuery, useQueryClient } from 'react-query';\nimport { QUERY_KEYS } from 'utils/queryKeys';\nimport { Term } from 'types/Term';\nimport { isNil, last } from 'ramda';\nimport { useRecoilState } from 'recoil';\nimport { SpinnerBox } from 'components/SpinnerBox';\nimport { useSpeech } from '../useSpeech';\nimport { increaseTermAnswers } from '../api/increaseTermAnswers';\nimport { sessionState } from '../store';\n\nconst OverflowableCardBody = styled(Card.Body)`\n  overflow: auto;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n`;\n\nexport const PracticeSession: FC = () => {\n  const navigate = useNavigate();\n  const { pathname } = useLocation();\n  const { speak } = useSpeech();\n  const { db, termsRepository } = useServices();\n  const queryClient = useQueryClient();\n  const [{ queue, isRevealed: isAnswerRevealed, config }, setSession] = useRecoilState(sessionState);\n  const actualRecordId = last(queue);\n  const playAfterReveal = config?.playAfterReveal ?? false;\n\n  const { data: actualRecord, isFetching } = useQuery(\n    QUERY_KEYS.terms.id(actualRecordId),\n    ({ signal }) => (!isNil(actualRecordId) ? termsRepository.getById(actualRecordId, signal) : undefined),\n    {\n      enabled: !isNil(actualRecordId),\n      onError: e => console.error(e),\n    },\n  );\n\n  const { mutateAsync: increaseAnswersCount, isLoading: isMutating } = useMutation(\n    async ({ id, isCorrect }: { id: Exclude<Term['id'], undefined>; isCorrect: boolean }) =>\n      await increaseTermAnswers(db)(id, isCorrect),\n    {\n      onSuccess: (_, { id }) => queryClient.invalidateQueries(QUERY_KEYS.terms.id(id)),\n    },\n  );\n\n  const handleRevealAnswer = () => {\n    setSession(prevState => ({ ...prevState, isRevealed: true }));\n    if (actualRecord && playAfterReveal) speak(actualRecord.word);\n  };\n\n  const handleAnswerButtonClick = (isCorrect: boolean) => {\n    if (actualRecord?.id === undefined) return;\n    increaseAnswersCount({ id: actualRecord.id, isCorrect })\n      .then(() => setSession(prevState => ({ ...prevState, queue: prevState.queue.slice(0, -1), isRevealed: false })))\n      .catch(console.error);\n  };\n\n  const handleEditButtonClick = () => {\n    if (actualRecord?.id)\n      navigate(`/records/${actualRecord.id}`, {\n        state: {\n          [RETURN_URL_FIELD]: pathname,\n        },\n      });\n  };\n\n  if (isFetching) return <SpinnerBox label=\"Loading term ...\" />;\n  if (isMutating) return <SpinnerBox label=\"Updating term answers ...\" />;\n  if (!actualRecord) return <p>You&apos;ve finished all the terms!</p>;\n  return (\n    <>\n      <Card>\n        <Card.Body className=\"text-center\">\n          <div>{actualRecord.translation}</div>\n          <div>\n            (<i>{actualRecord.partOfSpeech}</i>)\n          </div>\n        </Card.Body>\n      </Card>\n      <Card>\n        <OverflowableCardBody className=\"text-center\">{actualRecord.definition}</OverflowableCardBody>\n      </Card>\n      <Card>\n        <Card.Body className=\"text-center\">\n          {isAnswerRevealed ? (\n            <Row>\n              {actualRecord.word}\n              <Button onClick={() => speak(actualRecord.word)}>Play it again</Button>\n            </Row>\n          ) : (\n            '?'\n          )}\n        </Card.Body>\n      </Card>\n      {!isAnswerRevealed ? (\n        <Button onClick={handleRevealAnswer}>Reveal answer</Button>\n      ) : (\n        <>\n          <Button variant=\"success\" onClick={() => handleAnswerButtonClick(true)}>\n            I was correct\n          </Button>\n          <Button variant=\"danger\" onClick={() => handleAnswerButtonClick(false)}>\n            I was incorrect\n          </Button>\n        </>\n      )}\n      <Button onClick={handleEditButtonClick}>Edit current term</Button>\n    </>\n  );\n};\n","import { useEffect } from 'react';\n\nexport interface SpeachShape {\n  speak: (text: string) => void;\n}\n\nexport const useSpeech = (): SpeachShape => {\n  const synthesis = window.speechSynthesis;\n\n  useEffect(() => () => synthesis.cancel(), [synthesis]);\n\n  return {\n    speak: (text: string) => {\n      synthesis.cancel();\n      const u = new SpeechSynthesisUtterance(text);\n      synthesis.speak(u);\n    },\n  };\n};\n","export const RETURN_URL_FIELD = 'returnUrl' as const;\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"className\", \"checked\", \"defaultChecked\", \"disabled\", \"loadingIcon\", \"checkedChildren\", \"unCheckedChildren\", \"onClick\", \"onChange\", \"onKeyDown\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nvar Switch = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _classNames;\n\n  var _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-switch' : _ref$prefixCls,\n      className = _ref.className,\n      checked = _ref.checked,\n      defaultChecked = _ref.defaultChecked,\n      disabled = _ref.disabled,\n      loadingIcon = _ref.loadingIcon,\n      checkedChildren = _ref.checkedChildren,\n      unCheckedChildren = _ref.unCheckedChildren,\n      onClick = _ref.onClick,\n      onChange = _ref.onChange,\n      onKeyDown = _ref.onKeyDown,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _useMergedState = useMergedState(false, {\n    value: checked,\n    defaultValue: defaultChecked\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      innerChecked = _useMergedState2[0],\n      setInnerChecked = _useMergedState2[1];\n\n  function triggerChange(newChecked, event) {\n    var mergedChecked = innerChecked;\n\n    if (!disabled) {\n      mergedChecked = newChecked;\n      setInnerChecked(mergedChecked);\n      onChange === null || onChange === void 0 ? void 0 : onChange(mergedChecked, event);\n    }\n\n    return mergedChecked;\n  }\n\n  function onInternalKeyDown(e) {\n    if (e.which === KeyCode.LEFT) {\n      triggerChange(false, e);\n    } else if (e.which === KeyCode.RIGHT) {\n      triggerChange(true, e);\n    }\n\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n  }\n\n  function onInternalClick(e) {\n    var ret = triggerChange(!innerChecked, e); // [Legacy] trigger onClick with value\n\n    onClick === null || onClick === void 0 ? void 0 : onClick(ret, e);\n  }\n\n  var switchClassName = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), innerChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, restProps, {\n    type: \"button\",\n    role: \"switch\",\n    \"aria-checked\": innerChecked,\n    disabled: disabled,\n    className: switchClassName,\n    ref: ref,\n    onKeyDown: onInternalKeyDown,\n    onClick: onInternalClick\n  }), loadingIcon, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner-checked\")\n  }, checkedChildren), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner-unchecked\")\n  }, unCheckedChildren)));\n});\nSwitch.displayName = 'Switch';\nexport default Switch;","import { TinyColor } from '@ctrl/tinycolor';\nimport { genComponentStyleHook, mergeToken } from '../../theme/internal';\nimport { genFocusStyle, resetComponent } from '../../style';\nconst genSwitchSmallStyle = token => {\n  const {\n    componentCls\n  } = token;\n  const switchInnerCls = `${componentCls}-inner`;\n  return {\n    [componentCls]: {\n      [`&${componentCls}-small`]: {\n        minWidth: token.switchMinWidthSM,\n        height: token.switchHeightSM,\n        lineHeight: `${token.switchHeightSM}px`,\n        [`${componentCls}-inner`]: {\n          paddingInlineStart: token.switchInnerMarginMaxSM,\n          paddingInlineEnd: token.switchInnerMarginMinSM,\n          [`${switchInnerCls}-checked`]: {\n            marginInlineStart: `calc(-100% + ${token.switchPinSizeSM + token.switchPadding * 2}px - ${token.switchInnerMarginMaxSM * 2}px)`,\n            marginInlineEnd: `calc(100% - ${token.switchPinSizeSM + token.switchPadding * 2}px + ${token.switchInnerMarginMaxSM * 2}px)`\n          },\n          [`${switchInnerCls}-unchecked`]: {\n            marginTop: -token.switchHeightSM,\n            marginInlineStart: 0,\n            marginInlineEnd: 0\n          }\n        },\n        [`${componentCls}-handle`]: {\n          width: token.switchPinSizeSM,\n          height: token.switchPinSizeSM\n        },\n        [`${componentCls}-loading-icon`]: {\n          top: (token.switchPinSizeSM - token.switchLoadingIconSize) / 2,\n          fontSize: token.switchLoadingIconSize\n        },\n        [`&${componentCls}-checked`]: {\n          [`${componentCls}-inner`]: {\n            paddingInlineStart: token.switchInnerMarginMinSM,\n            paddingInlineEnd: token.switchInnerMarginMaxSM,\n            [`${switchInnerCls}-checked`]: {\n              marginInlineStart: 0,\n              marginInlineEnd: 0\n            },\n            [`${switchInnerCls}-unchecked`]: {\n              marginInlineStart: `calc(100% - ${token.switchPinSizeSM + token.switchPadding * 2}px + ${token.switchInnerMarginMaxSM * 2}px)`,\n              marginInlineEnd: `calc(-100% + ${token.switchPinSizeSM + token.switchPadding * 2}px - ${token.switchInnerMarginMaxSM * 2}px)`\n            }\n          },\n          [`${componentCls}-handle`]: {\n            insetInlineStart: `calc(100% - ${token.switchPinSizeSM + token.switchPadding}px)`\n          }\n        },\n        [`&:not(${componentCls}-disabled):active`]: {\n          [`&:not(${componentCls}-checked) ${switchInnerCls}`]: {\n            [`${switchInnerCls}-unchecked`]: {\n              marginInlineStart: token.marginXXS / 2,\n              marginInlineEnd: -token.marginXXS / 2\n            }\n          },\n          [`&${componentCls}-checked ${switchInnerCls}`]: {\n            [`${switchInnerCls}-checked`]: {\n              marginInlineStart: -token.marginXXS / 2,\n              marginInlineEnd: token.marginXXS / 2\n            }\n          }\n        }\n      }\n    }\n  };\n};\nconst genSwitchLoadingStyle = token => {\n  const {\n    componentCls\n  } = token;\n  return {\n    [componentCls]: {\n      [`${componentCls}-loading-icon${token.iconCls}`]: {\n        position: 'relative',\n        top: (token.switchPinSize - token.fontSize) / 2,\n        color: token.switchLoadingIconColor,\n        verticalAlign: 'top'\n      },\n      [`&${componentCls}-checked ${componentCls}-loading-icon`]: {\n        color: token.switchColor\n      }\n    }\n  };\n};\nconst genSwitchHandleStyle = token => {\n  const {\n    componentCls\n  } = token;\n  const switchHandleCls = `${componentCls}-handle`;\n  return {\n    [componentCls]: {\n      [switchHandleCls]: {\n        position: 'absolute',\n        top: token.switchPadding,\n        insetInlineStart: token.switchPadding,\n        width: token.switchPinSize,\n        height: token.switchPinSize,\n        transition: `all ${token.switchDuration} ease-in-out`,\n        '&::before': {\n          position: 'absolute',\n          top: 0,\n          insetInlineEnd: 0,\n          bottom: 0,\n          insetInlineStart: 0,\n          backgroundColor: token.colorWhite,\n          borderRadius: token.switchPinSize / 2,\n          boxShadow: token.switchHandleShadow,\n          transition: `all ${token.switchDuration} ease-in-out`,\n          content: '\"\"'\n        }\n      },\n      [`&${componentCls}-checked ${switchHandleCls}`]: {\n        insetInlineStart: `calc(100% - ${token.switchPinSize + token.switchPadding}px)`\n      },\n      [`&:not(${componentCls}-disabled):active`]: {\n        [`${switchHandleCls}::before`]: {\n          insetInlineEnd: token.switchHandleActiveInset,\n          insetInlineStart: 0\n        },\n        [`&${componentCls}-checked ${switchHandleCls}::before`]: {\n          insetInlineEnd: 0,\n          insetInlineStart: token.switchHandleActiveInset\n        }\n      }\n    }\n  };\n};\nconst genSwitchInnerStyle = token => {\n  const {\n    componentCls\n  } = token;\n  const switchInnerCls = `${componentCls}-inner`;\n  return {\n    [componentCls]: {\n      [switchInnerCls]: {\n        display: 'block',\n        overflow: 'hidden',\n        borderRadius: 100,\n        height: '100%',\n        paddingInlineStart: token.switchInnerMarginMax,\n        paddingInlineEnd: token.switchInnerMarginMin,\n        transition: `padding-inline-start ${token.switchDuration} ease-in-out, padding-inline-end ${token.switchDuration} ease-in-out`,\n        [`${switchInnerCls}-checked, ${switchInnerCls}-unchecked`]: {\n          display: 'block',\n          color: token.colorTextLightSolid,\n          fontSize: token.fontSizeSM,\n          transition: `margin-inline-start ${token.switchDuration} ease-in-out, margin-inline-end ${token.switchDuration} ease-in-out`,\n          pointerEvents: 'none'\n        },\n        [`${switchInnerCls}-checked`]: {\n          marginInlineStart: `calc(-100% + ${token.switchPinSize + token.switchPadding * 2}px - ${token.switchInnerMarginMax * 2}px)`,\n          marginInlineEnd: `calc(100% - ${token.switchPinSize + token.switchPadding * 2}px + ${token.switchInnerMarginMax * 2}px)`\n        },\n        [`${switchInnerCls}-unchecked`]: {\n          marginTop: -token.switchHeight,\n          marginInlineStart: 0,\n          marginInlineEnd: 0\n        }\n      },\n      [`&${componentCls}-checked ${switchInnerCls}`]: {\n        paddingInlineStart: token.switchInnerMarginMin,\n        paddingInlineEnd: token.switchInnerMarginMax,\n        [`${switchInnerCls}-checked`]: {\n          marginInlineStart: 0,\n          marginInlineEnd: 0\n        },\n        [`${switchInnerCls}-unchecked`]: {\n          marginInlineStart: `calc(100% - ${token.switchPinSize + token.switchPadding * 2}px + ${token.switchInnerMarginMax * 2}px)`,\n          marginInlineEnd: `calc(-100% + ${token.switchPinSize + token.switchPadding * 2}px - ${token.switchInnerMarginMax * 2}px)`\n        }\n      },\n      [`&:not(${componentCls}-disabled):active`]: {\n        [`&:not(${componentCls}-checked) ${switchInnerCls}`]: {\n          [`${switchInnerCls}-unchecked`]: {\n            marginInlineStart: token.switchPadding * 2,\n            marginInlineEnd: -token.switchPadding * 2\n          }\n        },\n        [`&${componentCls}-checked ${switchInnerCls}`]: {\n          [`${switchInnerCls}-checked`]: {\n            marginInlineStart: -token.switchPadding * 2,\n            marginInlineEnd: token.switchPadding * 2\n          }\n        }\n      }\n    }\n  };\n};\nconst genSwitchStyle = token => {\n  const {\n    componentCls\n  } = token;\n  return {\n    [componentCls]: Object.assign(Object.assign(Object.assign(Object.assign({}, resetComponent(token)), {\n      position: 'relative',\n      display: 'inline-block',\n      boxSizing: 'border-box',\n      minWidth: token.switchMinWidth,\n      height: token.switchHeight,\n      lineHeight: `${token.switchHeight}px`,\n      verticalAlign: 'middle',\n      background: token.colorTextQuaternary,\n      border: '0',\n      borderRadius: 100,\n      cursor: 'pointer',\n      transition: `all ${token.motionDurationMid}`,\n      userSelect: 'none',\n      [`&:hover:not(${componentCls}-disabled)`]: {\n        background: token.colorTextTertiary\n      }\n    }), genFocusStyle(token)), {\n      [`&${componentCls}-checked`]: {\n        background: token.switchColor,\n        [`&:hover:not(${componentCls}-disabled)`]: {\n          background: token.colorPrimaryHover\n        }\n      },\n      [`&${componentCls}-loading, &${componentCls}-disabled`]: {\n        cursor: 'not-allowed',\n        opacity: token.switchDisabledOpacity,\n        '*': {\n          boxShadow: 'none',\n          cursor: 'not-allowed'\n        }\n      },\n      // rtl style\n      [`&${componentCls}-rtl`]: {\n        direction: 'rtl'\n      }\n    })\n  };\n};\n// ============================== Export ==============================\nexport default genComponentStyleHook('Switch', token => {\n  const switchHeight = token.fontSize * token.lineHeight;\n  const switchHeightSM = token.controlHeight / 2;\n  const switchPadding = 2; // This is magic\n  const switchPinSize = switchHeight - switchPadding * 2;\n  const switchPinSizeSM = switchHeightSM - switchPadding * 2;\n  const switchToken = mergeToken(token, {\n    switchMinWidth: switchPinSize * 2 + switchPadding * 4,\n    switchHeight,\n    switchDuration: token.motionDurationMid,\n    switchColor: token.colorPrimary,\n    switchDisabledOpacity: token.opacityLoading,\n    switchInnerMarginMin: switchPinSize / 2,\n    switchInnerMarginMax: switchPinSize + switchPadding + switchPadding * 2,\n    switchPadding,\n    switchPinSize,\n    switchBg: token.colorBgContainer,\n    switchMinWidthSM: switchPinSizeSM * 2 + switchPadding * 2,\n    switchHeightSM,\n    switchInnerMarginMinSM: switchPinSizeSM / 2,\n    switchInnerMarginMaxSM: switchPinSizeSM + switchPadding + switchPadding * 2,\n    switchPinSizeSM,\n    switchHandleShadow: `0 2px 4px 0 ${new TinyColor('#00230b').setAlpha(0.2).toRgbString()}`,\n    switchLoadingIconSize: token.fontSizeIcon * 0.75,\n    switchLoadingIconColor: `rgba(0, 0, 0, ${token.opacityLoading})`,\n    switchHandleActiveInset: '-30%'\n  });\n  return [genSwitchStyle(switchToken),\n  // inner style\n  genSwitchInnerStyle(switchToken),\n  // handle style\n  genSwitchHandleStyle(switchToken),\n  // loading style\n  genSwitchLoadingStyle(switchToken),\n  // small style\n  genSwitchSmallStyle(switchToken)];\n});","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport classNames from 'classnames';\nimport RcSwitch from 'rc-switch';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport DisabledContext from '../config-provider/DisabledContext';\nimport SizeContext from '../config-provider/SizeContext';\nimport warning from '../_util/warning';\nimport Wave from '../_util/wave';\nimport useStyle from './style';\nconst Switch = /*#__PURE__*/React.forwardRef((_a, ref) => {\n  var {\n      prefixCls: customizePrefixCls,\n      size: customizeSize,\n      disabled: customDisabled,\n      loading,\n      className = ''\n    } = _a,\n    props = __rest(_a, [\"prefixCls\", \"size\", \"disabled\", \"loading\", \"className\"]);\n  process.env.NODE_ENV !== \"production\" ? warning('checked' in props || !('value' in props), 'Switch', '`value` is not a valid prop, do you mean `checked`?') : void 0;\n  const {\n    getPrefixCls,\n    direction\n  } = React.useContext(ConfigContext);\n  const size = React.useContext(SizeContext);\n  // ===================== Disabled =====================\n  const disabled = React.useContext(DisabledContext);\n  const mergedDisabled = (customDisabled !== null && customDisabled !== void 0 ? customDisabled : disabled) || loading;\n  const prefixCls = getPrefixCls('switch', customizePrefixCls);\n  const loadingIcon = /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-handle`\n  }, loading && /*#__PURE__*/React.createElement(LoadingOutlined, {\n    className: `${prefixCls}-loading-icon`\n  }));\n  // Style\n  const [wrapSSR, hashId] = useStyle(prefixCls);\n  const classes = classNames({\n    [`${prefixCls}-small`]: (customizeSize || size) === 'small',\n    [`${prefixCls}-loading`]: loading,\n    [`${prefixCls}-rtl`]: direction === 'rtl'\n  }, className, hashId);\n  return wrapSSR( /*#__PURE__*/React.createElement(Wave, null, /*#__PURE__*/React.createElement(RcSwitch, Object.assign({}, props, {\n    prefixCls: prefixCls,\n    className: classes,\n    disabled: mergedDisabled,\n    ref: ref,\n    loadingIcon: loadingIcon\n  }))));\n});\nSwitch.__ANT_SWITCH = true;\nif (process.env.NODE_ENV !== 'production') {\n  Switch.displayName = 'Switch';\n}\nexport default Switch;","import { equals } from 'ramda';\nimport { computeAnswersAbsoluteScore } from 'utils/computeAnswersAbsoluteScore';\nimport { computeAnswersRelativeScore } from 'utils/computeAnswersRelativeScore';\n\nexport enum ScoreAlgorithm {\n  Relative = 'relative',\n  Absolute = 'absolute',\n}\n\nexport const isScoreAlgorithm = (value: unknown): value is ScoreAlgorithm =>\n  typeof value === 'string' && Object.values(ScoreAlgorithm).some(equals(value));\n\nexport const SCORE_ALGO_MAP = {\n  [ScoreAlgorithm.Relative]: computeAnswersRelativeScore,\n  [ScoreAlgorithm.Absolute]: computeAnswersAbsoluteScore,\n} as const;\n","/**\n * Create new instance of received array and shuffle it.\n * Algorithm source: https://bost.ocks.org/mike/shuffle/\n */\nexport function shuffle<T>(source: readonly T[]): T[] {\n  const copy = [...source];\n\n  let total = copy.length;\n\n  // While there remain elements to shuffle…\n  while (total) {\n    // Pick a remaining element…\n    const index = Math.floor(Math.random() * total);\n    total -= 1;\n\n    // And swap it with the current element.\n    const temp = copy[total];\n    copy[total] = copy[index];\n    copy[index] = temp;\n  }\n\n  return copy;\n}\n","import { AnswersCountable } from './types';\n\nexport function computeAnswersRelativeScore({ answersCount, correctAnswersCount }: AnswersCountable): number {\n  return answersCount === 0 ? 0 : Math.floor((100 / answersCount) * correctAnswersCount);\n}\n","import { AnswersCountable } from './types';\n\nexport function computeAnswersAbsoluteScore({ answersCount, correctAnswersCount }: AnswersCountable): number {\n  return answersCount + correctAnswersCount;\n}\n","import { ButtonProps, Radio, Switch } from 'antd';\nimport { Button } from 'components/Button';\nimport { SpinnerBox } from 'components/SpinnerBox';\nimport { useState, FC } from 'react';\nimport { useMutation } from 'react-query';\nimport { useServices } from 'containers/Services';\nimport { useSetRecoilState } from 'recoil';\nimport { Tags } from 'components/Tags';\nimport { prepareSessionQueue } from '../api/prepareSessionQueue';\nimport { isScoreAlgorithm, ScoreAlgorithm } from '../constants';\nimport { Config, sessionState } from '../store';\n\nexport const Configuration: FC = () => {\n  const { db } = useServices();\n  const setSession = useSetRecoilState(sessionState);\n\n  const [config, setConfig] = useState<Config>({\n    scoreAlgorithm: ScoreAlgorithm.Relative,\n    playAfterReveal: false,\n    ignoreScoreOfNewTerms: false,\n    tags: [],\n  });\n\n  const { isLoading: loading, mutateAsync: prepareSessionQueueAsync } = useMutation(prepareSessionQueue(db), {\n    onError: e => console.error(e),\n  });\n\n  const handleStartSessionButtonClick: ButtonProps['onClick'] = () => {\n    prepareSessionQueueAsync(config)\n      .then(queue => setSession({ config, queue, isActive: true, isRevealed: false }))\n      .catch(console.error);\n  };\n\n  const update = (newConfig: Partial<Config>) => setConfig(prevConfig => ({ ...prevConfig, ...newConfig }));\n\n  if (loading) return <SpinnerBox label=\"Preparing practice session queue ...\" />;\n\n  const { scoreAlgorithm, playAfterReveal, ignoreScoreOfNewTerms } = config;\n  return (\n    <>\n      <Radio.Group\n        buttonStyle=\"solid\"\n        name=\"scoreAlgorithm\"\n        optionType=\"button\"\n        options={Object.values(ScoreAlgorithm).map(value => ({\n          label: value,\n          value,\n          style: { flexGrow: 1, textAlign: 'center' },\n        }))}\n        style={{ display: 'flex' }}\n        value={scoreAlgorithm}\n        onChange={({ target: { value } }) => update({ scoreAlgorithm: isScoreAlgorithm(value) ? value : undefined })}\n      />\n      <Switch\n        checked={playAfterReveal}\n        checkedChildren=\"Play word after reveal\"\n        unCheckedChildren=\"Play word after reveal\"\n        onChange={checked => update({ playAfterReveal: checked })}\n      />\n      <Switch\n        checked={ignoreScoreOfNewTerms}\n        checkedChildren=\"Ignore score for items with less then 11 answers\"\n        unCheckedChildren=\"Don't ignore score for items with less then 11 answers\"\n        onChange={checked => update({ ignoreScoreOfNewTerms: checked })}\n      />\n      <Tags style={{ width: '100%' }} value={config.tags} onChange={value => update({ tags: value })} />\n      <Button onClick={handleStartSessionButtonClick}>Start session</Button>\n    </>\n  );\n};\n","import { AppDb } from 'services/db';\nimport { groupWith } from 'ramda';\nimport { Term } from 'types/Term';\nimport { hasDefinition } from 'utils/hasDefinition';\nimport { hasTranslation } from 'utils/hasTranslation';\nimport { shuffle } from 'utils/shuffle';\nimport { SCORE_ALGO_MAP } from '../constants';\nimport { Config } from '../store';\n\nexport const prepareSessionQueue =\n  (db: AppDb) =>\n  async ({ ignoreScoreOfNewTerms, scoreAlgorithm, tags }: Config): Promise<Array<Term['id']>> => {\n    const computed: Array<{ id: Term['id']; score: number }> = [];\n\n    const tagsSet = new Set(tags);\n\n    await db.terms\n      .filter(\n        term =>\n          (hasTranslation(term) || hasDefinition(term)) &&\n          (tagsSet.size === 0 || term.tags.some(tag => tagsSet.has(tag))),\n      )\n      .each(term => {\n        computed.push({\n          id: term.id,\n          score: ignoreScoreOfNewTerms && term.answersCount < 10 ? 0 : SCORE_ALGO_MAP[scoreAlgorithm](term),\n        });\n      });\n\n    computed.sort((a, b) => b.score - a.score);\n\n    return groupWith((a, b) => a.score === b.score, computed)\n      .map(list => shuffle(list))\n      .reduce<Array<undefined | number>>((queue, newTerms) => [...queue, ...newTerms.map(p => p.id)], []);\n  };\n","export interface Translateable {\n  translation: string;\n}\n\nexport const hasTranslation = (translateable: Translateable): boolean => translateable.translation !== '';\n","export interface Definable {\n  definition: string;\n}\n\nexport const hasDefinition = (definable: Definable): boolean => definable.definition !== '';\n","import styled from 'styled-components';\nimport { FC } from 'react';\nimport { useRecoilState } from 'recoil';\nimport { Button } from 'react-bootstrap';\nimport { PracticeSession } from './components/PracticeSession';\nimport { Configuration } from './components/Configuration';\nimport { sessionState } from './store';\n\nconst Layout = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nexport default (() => {\n  const [{ isActive }, setSession] = useRecoilState(sessionState);\n\n  const handleEndSessionButtonClick = () => {\n    setSession(prevState => ({ ...prevState, config: undefined, queue: [], isActive: false }));\n  };\n\n  return (\n    <Layout>\n      {isActive ? (\n        <>\n          <PracticeSession />\n          <Button onClick={handleEndSessionButtonClick}>End session</Button>\n        </>\n      ) : (\n        <Configuration />\n      )}\n    </Layout>\n  );\n}) satisfies FC;\n","import { Term } from 'types/Term';\n\nexport const QUERY_KEYS = {\n  terms: {\n    all: () => ['terms'] as const,\n    filter: (filter: Record<string, unknown>) => [...QUERY_KEYS.terms.all(), filter] as const,\n    id: (id: Term['id']) => [...QUERY_KEYS.terms.all(), id] as const,\n    tags: {\n      all: () => [...QUERY_KEYS.terms.all(), 'tags'] as const,\n    },\n  },\n  dictionary: {\n    all: () => ['dictionary'] as const,\n    word: (word: string) => [...QUERY_KEYS.dictionary.all(), word] as const,\n  },\n};\n"],"names":["options","values","map","value","label","Tags","defaultValue","onChange","style","useState","search","setSearch","termsRepository","useServices","useQuery","QUERY_KEYS","signal","getUniqueTags","select","uniqueTagsOptions","data","loadingUniqueTags","isFetching","allowClear","loading","mode","placeholder","onSearch","Button","React","ref","as","bsPrefix","variant","size","active","className","props","prefix","useBootstrapPrefix","useButtonProps","tagName","buttonProps","Component","_jsx","classNames","href","disabled","displayName","defaultProps","CardImg","CardHeader","contextValue","useMemo","cardHeaderBsPrefix","CardHeaderContext","children","DivStyledAsH5","divWithClassName","DivStyledAsH6","CardBody","createWithBsPrefix","CardTitle","CardSubtitle","CardLink","CardText","CardFooter","CardImgOverlay","Card","bg","text","border","body","Object","assign","Img","Title","Subtitle","Body","Link","Text","Header","Footer","ImgOverlay","increaseTermAnswers","db","id","increaseCorrect","terms","get","term","answersCount","correctAnswersCount","put","sessionState","atom","key","default","config","undefined","isActive","queue","isRevealed","OverflowableCardBody","styled","Row","PracticeSession","navigate","useNavigate","pathname","useLocation","speak","synthesis","window","speechSynthesis","useEffect","cancel","u","SpeechSynthesisUtterance","useSpeech","queryClient","useQueryClient","useRecoilState","isAnswerRevealed","setSession","actualRecordId","last","playAfterReveal","isNil","getById","enabled","onError","e","console","error","actualRecord","useMutation","isCorrect","onSuccess","_","invalidateQueries","increaseAnswersCount","mutateAsync","isMutating","isLoading","handleAnswerButtonClick","then","prevState","slice","catch","SpinnerBox","translation","partOfSpeech","definition","word","onClick","state","_excluded","Switch","_ref","_classNames","_ref$prefixCls","prefixCls","checked","defaultChecked","loadingIcon","checkedChildren","unCheckedChildren","onKeyDown","restProps","_objectWithoutProperties","_useMergedState","useMergedState","_useMergedState2","_slicedToArray","innerChecked","setInnerChecked","triggerChange","newChecked","event","mergedChecked","switchClassName","_defineProperty","concat","_extends","type","role","which","KeyCode","ret","genSwitchSmallStyle","token","componentCls","switchInnerCls","minWidth","switchMinWidthSM","height","switchHeightSM","lineHeight","paddingInlineStart","switchInnerMarginMaxSM","paddingInlineEnd","switchInnerMarginMinSM","marginInlineStart","switchPinSizeSM","switchPadding","marginInlineEnd","marginTop","width","top","switchLoadingIconSize","fontSize","insetInlineStart","marginXXS","genSwitchLoadingStyle","iconCls","position","switchPinSize","color","switchLoadingIconColor","verticalAlign","switchColor","genSwitchHandleStyle","switchHandleCls","transition","switchDuration","insetInlineEnd","bottom","backgroundColor","colorWhite","borderRadius","boxShadow","switchHandleShadow","content","switchHandleActiveInset","genSwitchInnerStyle","display","overflow","switchInnerMarginMax","switchInnerMarginMin","colorTextLightSolid","fontSizeSM","pointerEvents","switchHeight","genSwitchStyle","resetComponent","boxSizing","switchMinWidth","background","colorTextQuaternary","cursor","motionDurationMid","userSelect","colorTextTertiary","genFocusStyle","colorPrimaryHover","opacity","switchDisabledOpacity","direction","genComponentStyleHook","controlHeight","switchToken","mergeToken","colorPrimary","opacityLoading","switchBg","colorBgContainer","TinyColor","setAlpha","toRgbString","fontSizeIcon","__rest","s","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","_a","customizePrefixCls","customizeSize","customDisabled","ConfigContext","getPrefixCls","SizeContext","DisabledContext","mergedDisabled","LoadingOutlined","useStyle","wrapSSR","hashId","classes","Wave","RcSwitch","__ANT_SWITCH","ScoreAlgorithm","shuffle","source","copy","total","index","Math","floor","random","temp","isScoreAlgorithm","some","equals","SCORE_ALGO_MAP","Relative","Absolute","Configuration","useSetRecoilState","scoreAlgorithm","ignoreScoreOfNewTerms","tags","setConfig","computed","tagsSet","Set","filter","tag","has","each","push","score","sort","a","b","groupWith","list","reduce","newTerms","prepareSessionQueue","prepareSessionQueueAsync","update","newConfig","prevConfig","buttonStyle","name","optionType","flexGrow","textAlign","target","Layout","all","dictionary"],"sourceRoot":""}