(this.webpackJsonpvocabulary=this.webpackJsonpvocabulary||[]).push([[0],{133:function(t,e,n){},134:function(t,e,n){},213:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),i=n(37),o=n.n(i),a=(n(132),n(133),n(43)),s=n(26),u=n(63),j=n(33),l=n(218),d=n(60),b=n(219),O=n(217),f=(n(134),n(23)),h=n(121),p=n(220),x=n(221),C=n(222);function v(t){return Object(a.a)(t).sort((function(){return Math.random()>.5?1:-1}))}function w(t,e){var n=v(e.filter((function(e){return e!==t}))).splice(0,3);return v([{isCorrect:!0,entity:t}].concat(Object(a.a)(n.map((function(t){return{isCorrect:!1,entity:t}})))))}function g(t,e){return Object(a.a)(t).sort(e)}function m(t,e){return-1*(t.answersCount+(t.answersCount-t.correctAnswersCount))- -1*(e.answersCount+(e.answersCount-e.correctAnswersCount))}var S=n(8);function y(t){var e=t.word,n=t.onDefinitionClick,c=Object(r.useState)(),i=Object(u.a)(c,2),o=i[0],a=i[1];return Object(r.useEffect)((function(){if(""!==e){var t=new AbortController;return fetch("https://api.dictionaryapi.dev/api/v2/entries/en_US/".concat(e),{signal:t.signal}).then((function(t){return t.json()})).then((function(t){a(t[0])})).catch((function(t){return console.error(t)})),function(){return t.abort()}}a(void 0)}),[e]),Object(S.jsx)("ul",{children:null===o||void 0===o?void 0:o.meanings.map((function(t,e){return Object(S.jsxs)("li",{children:[t.partOfSpeech,Object(S.jsx)("ul",{children:t.definitions.map((function(e,r){return Object(S.jsx)("li",{onClick:function(){return n&&n({partOfSpeech:t.partOfSpeech,definition:e.definition})},children:e.definition},r)}))})]},e)}))})}function k(t){var e=t.onConfirm,n=Object(f.g)().state,c=Object(r.useState)(Object(s.a)({word:"",partOfSpeech:"",translation:"",definition:"",answersCount:0,correctAnswersCount:0},null!==n&&void 0!==n?n:{})),i=Object(u.a)(c,2),o=i[0],a=i[1],d=Object(f.f)();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(j.a,{type:"primary",onClick:function(){e&&e(o),d.push("/")},children:"Confirm"}),Object(S.jsx)(l.a,{placeholder:"Word",value:o.word,onChange:function(t){return a(Object(s.a)(Object(s.a)({},o),{},{word:t.target.value}))}}),Object(S.jsx)(l.a,{placeholder:"Pard ot speech",value:o.partOfSpeech,onChange:function(t){return a(Object(s.a)(Object(s.a)({},o),{},{partOfSpeech:t.target.value}))}}),Object(S.jsx)(l.a,{placeholder:"Translation",value:o.translation,onChange:function(t){return a(Object(s.a)(Object(s.a)({},o),{},{translation:t.target.value}))}}),Object(S.jsx)(l.a.TextArea,{placeholder:"Definition",value:o.definition,onChange:function(t){return a(Object(s.a)(Object(s.a)({},o),{},{definition:t.target.value}))}}),Object(S.jsx)(y,{word:o.word,onDefinitionClick:function(t){return a(Object(s.a)(Object(s.a)({},o),t))}})]})}function A(t){var e=t.items,n=t.onDelete,r=Object(f.f)(),c=[{title:"Word",dataIndex:"word",ellipsis:{showTitle:!0}},{title:Object(S.jsx)(d.a,{title:"Total answers / Correct answers",children:"Total / Correct"}),render:function(t,e){return Object(S.jsxs)(S.Fragment,{children:[e.answersCount," / ",e.correctAnswersCount]})}},{title:function(){return Object(S.jsx)(j.a,{type:"primary",onClick:function(){return r.push("/add")},children:Object(S.jsx)(p.a,{})})},render:function(t,e){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(j.a,{onClick:function(){return r.push("/edit",e)},children:Object(S.jsx)(x.a,{})}),Object(S.jsx)(b.a,{title:"Are you sure to delete this?",onConfirm:function(){return n&&n(e)},children:Object(S.jsx)(j.a,{children:Object(S.jsx)(C.a,{})})})]})}}];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(j.a,{block:!0,type:"primary",onClick:function(){return r.push("/practice")},children:"Practice"}),Object(S.jsx)(O.a,{columns:c,dataSource:e,size:"middle",rowKey:"id"})]})}function F(t){var e=t.records,n=t.onAnswer,c=Object(r.useState)((function(){var t=Object(a.a)(e),n=t.pop();return{stack:t,actualRecord:n,actualAnswersSet:n?w(n,e):[]}})),i=Object(u.a)(c,2),o=i[0],s=i[1],j=Object(r.useState)(),l=Object(u.a)(j,2),d=l[0],b=l[1],O=Object(f.f)();return Object(S.jsxs)(S.Fragment,{children:[o.actualRecord&&Object(S.jsxs)("div",{style:{textAlign:"center"},children:[o.actualRecord.word," (",Object(S.jsx)("i",{children:o.actualRecord.partOfSpeech}),")"]}),o.actualAnswersSet.map((function(t){var e;return Object(S.jsx)("button",{disabled:Boolean(d),onClick:function(){return function(t){d||(b(t),n&&o.actualRecord&&n({isCorrect:t.isCorrect,entity:o.actualRecord}))}(t)},style:{backgroundColor:t.isCorrect&&d?"green":t.isCorrect||t!==d?void 0:"red"},children:null===(e=t.entity)||void 0===e?void 0:e.definition},t.entity.id)})),d&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:Object(S.jsx)("hr",{})}),Object(S.jsx)("button",{onClick:function(){s((function(t){var n=Object(a.a)(t.stack),r=n.pop();return{stack:n,actualRecord:r,actualAnswersSet:r?w(r,e):[]}})),b(void 0)},children:"Next"})]}),Object(S.jsx)("div",{children:Object(S.jsx)("hr",{})}),Object(S.jsx)("button",{onClick:function(){return O.push("/")},children:"End"})]})}var D="vocabulary";var I=function(){var t=Object(r.useState)([]),e=Object(u.a)(t,2),n=e[0],c=e[1];return Object(r.useEffect)((function(){var t=localStorage.getItem(D);t&&c(JSON.parse(t))}),[]),Object(r.useEffect)((function(){localStorage.setItem(D,JSON.stringify(n))}),[n]),Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(h.a,{children:Object(S.jsxs)(f.c,{children:[Object(S.jsx)(f.a,{path:"/add",children:Object(S.jsx)(k,{onConfirm:function(t){return c([Object(s.a)({id:Date.now()},t)].concat(Object(a.a)(n)))}})}),Object(S.jsx)(f.a,{path:"/edit",children:Object(S.jsx)(k,{onConfirm:function(t){var e=n.findIndex((function(e){return e.id===t.id})),r=Object(a.a)(n);r[e]=t,c(r)}})}),Object(S.jsx)(f.a,{path:"/practice",children:Object(S.jsx)(F,{records:g(n,m),onAnswer:function(t){var e=t.entity,r=t.isCorrect,i=n.findIndex((function(t){return t.id===e.id})),o=Object(a.a)(n),u=o[i];o[i]=Object(s.a)(Object(s.a)({},u),{},{answersCount:u.answersCount+1,correctAnswersCount:u.correctAnswersCount+(r?1:0)}),c(o)}})}),Object(S.jsx)(f.a,{path:"/",children:Object(S.jsx)(A,{items:n,onDelete:function(t){return c(n.filter((function(e){return e.id!==t.id})))}})})]})})})},R=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),i(t),o(t)}))};o.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(I,{})}),document.getElementById("root")),R()}},[[213,1,2]]]);
//# sourceMappingURL=main.9ded19c5.chunk.js.map