import{r as h,e as E,f as _e,j as d,g as v,C as ke,h as fe,i as Ue,m as Pe,k as b,l as Le,n as He,T as qe,o as Fe,p as De,D as Ke,q as Be,t as We,W as ze,L as Ve,v as _,w as k,x as B,R as Qe,y as he,z as Ge,c as ge,S as F,E as W,b as Xe,F as Ye,H as Ze,I as me}from"./index-pSUR4TNv.js";import{T as Je}from"./Tags-yPaUG8If.js";import{R as en}from"./index-icGC7ePU.js";import{u as nn,Q}from"./queryKeys-qTOsnul1.js";const ye=h.forwardRef(({as:e,bsPrefix:n,variant:t="primary",size:r,active:a=!1,disabled:i=!1,className:c,...s},o)=>{const u=E(n,"btn"),[g,{tagName:f}]=_e({tagName:e,disabled:i,...s}),m=f;return d.jsx(m,{...g,...s,ref:o,disabled:i,className:v(c,u,a&&"active",t&&`${u}-${t}`,r&&`${u}-${r}`,s.href&&i&&"disabled")})});ye.displayName="Button";const M=ye,pe=h.forwardRef(({className:e,bsPrefix:n,as:t="div",...r},a)=>(n=E(n,"card-body"),d.jsx(t,{ref:a,className:v(e,n),...r})));pe.displayName="CardBody";const Se=pe,ve=h.forwardRef(({className:e,bsPrefix:n,as:t="div",...r},a)=>(n=E(n,"card-footer"),d.jsx(t,{ref:a,className:v(e,n),...r})));ve.displayName="CardFooter";const tn=ve,Ce=h.forwardRef(({bsPrefix:e,className:n,as:t="div",...r},a)=>{const i=E(e,"card-header"),c=h.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return d.jsx(ke.Provider,{value:c,children:d.jsx(t,{ref:a,...r,className:v(n,i)})})});Ce.displayName="CardHeader";const rn=Ce,Ee=h.forwardRef(({bsPrefix:e,className:n,variant:t,as:r="img",...a},i)=>{const c=E(e,"card-img");return d.jsx(r,{ref:i,className:v(t?`${c}-${t}`:c,n),...a})});Ee.displayName="CardImg";const an=Ee,we=h.forwardRef(({className:e,bsPrefix:n,as:t="div",...r},a)=>(n=E(n,"card-img-overlay"),d.jsx(t,{ref:a,className:v(e,n),...r})));we.displayName="CardImgOverlay";const sn=we,Ie=h.forwardRef(({className:e,bsPrefix:n,as:t="a",...r},a)=>(n=E(n,"card-link"),d.jsx(t,{ref:a,className:v(e,n),...r})));Ie.displayName="CardLink";const cn=Ie,on=fe("h6"),Ne=h.forwardRef(({className:e,bsPrefix:n,as:t=on,...r},a)=>(n=E(n,"card-subtitle"),d.jsx(t,{ref:a,className:v(e,n),...r})));Ne.displayName="CardSubtitle";const ln=Ne,Ae=h.forwardRef(({className:e,bsPrefix:n,as:t="p",...r},a)=>(n=E(n,"card-text"),d.jsx(t,{ref:a,className:v(e,n),...r})));Ae.displayName="CardText";const un=Ae,dn=fe("h5"),$e=h.forwardRef(({className:e,bsPrefix:n,as:t=dn,...r},a)=>(n=E(n,"card-title"),d.jsx(t,{ref:a,className:v(e,n),...r})));$e.displayName="CardTitle";const fn=$e,Oe=h.forwardRef(({bsPrefix:e,className:n,bg:t,text:r,border:a,body:i=!1,children:c,as:s="div",...o},u)=>{const g=E(e,"card");return d.jsx(s,{ref:u,...o,className:v(n,g,t&&`bg-${t}`,r&&`text-${r}`,a&&`border-${a}`),children:i?d.jsx(Se,{children:c}):c})});Oe.displayName="Card";const R=Object.assign(Oe,{Img:an,Title:fn,Subtitle:ln,Body:Se,Link:cn,Text:un,Header:rn,Footer:tn,ImgOverlay:sn});function D(){return D=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},D.apply(this,arguments)}function j(e){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},j(e)}function hn(e,n){if(j(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(j(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function gn(e){var n=hn(e,"string");return j(n)==="symbol"?n:String(n)}function G(e,n,t){return n=gn(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function mn(e){if(Array.isArray(e))return e}function yn(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,a,i,c,s=[],o=!0,u=!1;try{if(i=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;o=!1}else for(;!(o=(r=i.call(t)).done)&&(s.push(r.value),s.length!==n);o=!0);}catch(g){u=!0,a=g}finally{try{if(!o&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(u)throw a}}return s}}function X(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function pn(e,n){if(e){if(typeof e=="string")return X(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X(e,n)}}function Sn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vn(e,n){return mn(e)||yn(e,n)||pn(e,n)||Sn()}function Cn(e,n){if(e==null)return{};var t={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(n.indexOf(a)>=0)&&(t[a]=e[a]);return t}function En(e,n){if(e==null)return{};var t=Cn(e,n),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function wn(e){if(Array.isArray(e))return e}function In(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,a,i,c,s=[],o=!0,u=!1;try{if(i=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;o=!1}else for(;!(o=(r=i.call(t)).done)&&(s.push(r.value),s.length!==n);o=!0);}catch(g){u=!0,a=g}finally{try{if(!o&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(u)throw a}}return s}}function Y(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Nn(e,n){if(e){if(typeof e=="string")return Y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Y(e,n)}}function An(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K(e,n){return wn(e)||In(e,n)||Nn(e,n)||An()}function Z(e){var n=h.useRef();n.current=e;var t=h.useCallback(function(){for(var r,a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(r=n.current)===null||r===void 0?void 0:r.call.apply(r,[n].concat(i))},[]);return t}function $n(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var J=$n()?h.useLayoutEffect:h.useEffect,ee=function(n,t){var r=h.useRef(!0);J(function(){if(!r.current)return n()},t),J(function(){return r.current=!1,function(){r.current=!0}},[])};function ne(e){var n=h.useRef(!1),t=h.useState(e),r=K(t,2),a=r[0],i=r[1];h.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]);function c(s,o){o&&n.current||i(s)}return[a,c]}function H(e){return e!==void 0}function On(e,n){var t=n||{},r=t.defaultValue,a=t.value,i=t.onChange,c=t.postState,s=ne(function(){return H(a)?a:H(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),o=K(s,2),u=o[0],g=o[1],f=a!==void 0?a:u,m=c?c(f):f,C=Z(i),I=ne([f]),$=K(I,2),O=$[0],N=$[1];ee(function(){var y=O[0];u!==y&&C(u,y)},[O]),ee(function(){H(a)||g(a)},[a]);var w=Z(function(y,p){g(y,p),N([f],p)});return[m,w]}var l={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(n){var t=n.keyCode;if(n.altKey&&!n.ctrlKey||n.metaKey||t>=l.F1&&t<=l.F12)return!1;switch(t){case l.ALT:case l.CAPS_LOCK:case l.CONTEXT_MENU:case l.CTRL:case l.DOWN:case l.END:case l.ESC:case l.HOME:case l.INSERT:case l.LEFT:case l.MAC_FF_META:case l.META:case l.NUMLOCK:case l.NUM_CENTER:case l.PAGE_DOWN:case l.PAGE_UP:case l.PAUSE:case l.PRINT_SCREEN:case l.RIGHT:case l.SHIFT:case l.UP:case l.WIN_KEY:case l.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(n){if(n>=l.ZERO&&n<=l.NINE||n>=l.NUM_ZERO&&n<=l.NUM_MULTIPLY||n>=l.A&&n<=l.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&n===0)return!0;switch(n){case l.SPACE:case l.QUESTION_MARK:case l.NUM_PLUS:case l.NUM_MINUS:case l.NUM_PERIOD:case l.NUM_DIVISION:case l.SEMICOLON:case l.DASH:case l.EQUALS:case l.COMMA:case l.PERIOD:case l.SLASH:case l.APOSTROPHE:case l.SINGLE_QUOTE:case l.OPEN_SQUARE_BRACKET:case l.BACKSLASH:case l.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},bn=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],be=h.forwardRef(function(e,n){var t,r=e.prefixCls,a=r===void 0?"rc-switch":r,i=e.className,c=e.checked,s=e.defaultChecked,o=e.disabled,u=e.loadingIcon,g=e.checkedChildren,f=e.unCheckedChildren,m=e.onClick,C=e.onChange,I=e.onKeyDown,$=En(e,bn),O=On(!1,{value:c,defaultValue:s}),N=vn(O,2),w=N[0],y=N[1];function p(S,T){var x=w;return o||(x=S,y(x),C==null||C(x,T)),x}function P(S){S.which===l.LEFT?p(!1,S):S.which===l.RIGHT&&p(!0,S),I==null||I(S)}function A(S){var T=p(!w,S);m==null||m(T,S)}var L=v(a,i,(t={},G(t,"".concat(a,"-checked"),w),G(t,"".concat(a,"-disabled"),o),t));return h.createElement("button",D({},$,{type:"button",role:"switch","aria-checked":w,disabled:o,className:L,ref:n,onKeyDown:P,onClick:A}),u,h.createElement("span",{className:"".concat(a,"-inner")},h.createElement("span",{className:"".concat(a,"-inner-checked")},g),h.createElement("span",{className:"".concat(a,"-inner-unchecked")},f)))});be.displayName="Switch";const Mn=e=>{const{componentCls:n,trackHeightSM:t,trackPadding:r,trackMinWidthSM:a,innerMinMarginSM:i,innerMaxMarginSM:c,handleSizeSM:s,calc:o}=e,u=`${n}-inner`,g=b(o(s).add(o(r).mul(2)).equal()),f=b(o(c).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:a,height:t,lineHeight:b(t),[`${n}-inner`]:{paddingInlineStart:c,paddingInlineEnd:i,[`${u}-checked`]:{marginInlineStart:`calc(-100% + ${g} - ${f})`,marginInlineEnd:`calc(100% - ${g} + ${f})`},[`${u}-unchecked`]:{marginTop:o(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:s,height:s},[`${n}-loading-icon`]:{top:o(o(s).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:i,paddingInlineEnd:c,[`${u}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${u}-unchecked`]:{marginInlineStart:`calc(100% - ${g} + ${f})`,marginInlineEnd:`calc(-100% + ${g} - ${f})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${b(o(s).add(r).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${u}`]:{[`${u}-unchecked`]:{marginInlineStart:o(e.marginXXS).div(2).equal(),marginInlineEnd:o(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${u}`]:{[`${u}-checked`]:{marginInlineStart:o(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:o(e.marginXXS).div(2).equal()}}}}}}},xn=e=>{const{componentCls:n,handleSize:t,calc:r}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(t).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},Rn=e=>{const{componentCls:n,trackPadding:t,handleBg:r,handleShadow:a,handleSize:i,calc:c}=e,s=`${n}-handle`;return{[n]:{[s]:{position:"absolute",top:t,insetInlineStart:t,width:i,height:i,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:c(i).div(2).equal(),boxShadow:a,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${s}`]:{insetInlineStart:`calc(100% - ${b(c(i).add(t).equal())})`},[`&:not(${n}-disabled):active`]:{[`${s}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${s}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Tn=e=>{const{componentCls:n,trackHeight:t,trackPadding:r,innerMinMargin:a,innerMaxMargin:i,handleSize:c,calc:s}=e,o=`${n}-inner`,u=b(s(c).add(s(r).mul(2)).equal()),g=b(s(i).mul(2).equal());return{[n]:{[o]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:i,paddingInlineEnd:a,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${o}-checked, ${o}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${o}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${g})`,marginInlineEnd:`calc(100% - ${u} + ${g})`},[`${o}-unchecked`]:{marginTop:s(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${o}`]:{paddingInlineStart:a,paddingInlineEnd:i,[`${o}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${o}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${g})`,marginInlineEnd:`calc(-100% + ${u} - ${g})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${o}`]:{[`${o}-unchecked`]:{marginInlineStart:s(r).mul(2).equal(),marginInlineEnd:s(r).mul(-1).mul(2).equal()}},[`&${n}-checked ${o}`]:{[`${o}-checked`]:{marginInlineStart:s(r).mul(-1).mul(2).equal(),marginInlineEnd:s(r).mul(2).equal()}}}}}},jn=e=>{const{componentCls:n,trackHeight:t,trackMinWidth:r}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Le(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:t,lineHeight:`${b(t)}`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),He(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},_n=e=>{const{fontSize:n,lineHeight:t,controlHeight:r,colorWhite:a}=e,i=n*t,c=r/2,s=2,o=i-s*2,u=c-s*2;return{trackHeight:i,trackHeightSM:c,trackMinWidth:o*2+s*4,trackMinWidthSM:u*2+s*2,trackPadding:s,handleBg:a,handleSize:o,handleSizeSM:u,handleShadow:`0 2px 4px 0 ${new qe("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:o/2,innerMaxMargin:o+s+s*2,innerMinMarginSM:u/2,innerMaxMarginSM:u+s+s*2}},kn=Ue("Switch",e=>{const n=Pe(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[jn(n),Tn(n),Rn(n),xn(n),Mn(n)]},_n);var Un=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t};const Me=h.forwardRef((e,n)=>{const{prefixCls:t,size:r,disabled:a,loading:i,className:c,rootClassName:s,style:o,checked:u,value:g,defaultChecked:f,defaultValue:m,onChange:C}=e,I=Un(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[$,O]=Fe(!1,{value:u??g,defaultValue:f??m}),{getPrefixCls:N,direction:w,switch:y}=h.useContext(De),p=h.useContext(Ke),P=(a??p)||i,A=N("switch",t),L=h.createElement("div",{className:`${A}-handle`},i&&h.createElement(Ve,{className:`${A}-loading-icon`})),[S,T,x]=kn(A),xe=Be(r),Re=We(y==null?void 0:y.className,{[`${A}-small`]:xe==="small",[`${A}-loading`]:i,[`${A}-rtl`]:w==="rtl"},c,s,T,x),Te=Object.assign(Object.assign({},y==null?void 0:y.style),o),je=function(){O(arguments.length<=0?void 0:arguments[0]),C==null||C.apply(void 0,arguments)};return S(h.createElement(ze,{component:"Switch"},h.createElement(be,Object.assign({},I,{checked:$,onChange:je,prefixCls:A,className:Re,style:Te,disabled:P,ref:n,loadingIcon:L}))))});Me.__ANT_SWITCH=!0;const te=Me;function re(e){for(var n=[],t;!(t=e.next()).done;)n.push(t.value);return n}function ae(e,n,t){for(var r=0,a=t.length;r<a;){if(e(n,t[r]))return!0;r+=1}return!1}function Pn(e){var n=String(e).match(/^function (\w*)/);return n==null?"":n[1]}function Ln(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}const q=typeof Object.is=="function"?Object.is:Ln;var ie=Object.prototype.toString,Hn=function(){return ie.call(arguments)==="[object Arguments]"?function(n){return ie.call(n)==="[object Arguments]"}:function(n){return _("callee",n)}}();const qn=Hn;var Fn=!{toString:null}.propertyIsEnumerable("toString"),se=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ce=function(){return arguments.propertyIsEnumerable("length")}(),Dn=function(n,t){for(var r=0;r<n.length;){if(n[r]===t)return!0;r+=1}return!1},Kn=typeof Object.keys=="function"&&!ce?k(function(n){return Object(n)!==n?[]:Object.keys(n)}):k(function(n){if(Object(n)!==n)return[];var t,r,a=[],i=ce&&qn(n);for(t in n)_(t,n)&&(!i||t!=="length")&&(a[a.length]=t);if(Fn)for(r=se.length-1;r>=0;)t=se[r],_(t,n)&&!Dn(a,t)&&(a[a.length]=t),r-=1;return a});const oe=Kn;var Bn=k(function(n){return n===null?"Null":n===void 0?"Undefined":Object.prototype.toString.call(n).slice(8,-1)});const le=Bn;function ue(e,n,t,r){var a=re(e),i=re(n);function c(s,o){return z(s,o,t.slice(),r.slice())}return!ae(function(s,o){return!ae(c,o,s)},i,a)}function z(e,n,t,r){if(q(e,n))return!0;var a=le(e);if(a!==le(n))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof n["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](n)&&typeof n["fantasy-land/equals"]=="function"&&n["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof n.equals=="function")return typeof e.equals=="function"&&e.equals(n)&&typeof n.equals=="function"&&n.equals(e);switch(a){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Pn(e.constructor)==="Promise")return e===n;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof n&&q(e.valueOf(),n.valueOf())))return!1;break;case"Date":if(!q(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(!(e.source===n.source&&e.global===n.global&&e.ignoreCase===n.ignoreCase&&e.multiline===n.multiline&&e.sticky===n.sticky&&e.unicode===n.unicode))return!1;break}for(var i=t.length-1;i>=0;){if(t[i]===e)return r[i]===n;i-=1}switch(a){case"Map":return e.size!==n.size?!1:ue(e.entries(),n.entries(),t.concat([e]),r.concat([n]));case"Set":return e.size!==n.size?!1:ue(e.values(),n.values(),t.concat([e]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=oe(e);if(c.length!==oe(n).length)return!1;var s=t.concat([e]),o=r.concat([n]);for(i=c.length-1;i>=0;){var u=c[i];if(!(_(u,n)&&z(n[u],e[u],s,o)))return!1;i-=1}return!0}var Wn=B(function(n,t){return z(n,t,[],[])});const zn=Wn;function Vn(e){return Object.prototype.toString.call(e)==="[object String]"}var Qn=B(function(n,t){var r=n<0?t.length+n:n;return Vn(t)?t.charAt(r):t[r]});const Gn=Qn;var Xn=k(function(n){return n==null});const de=Xn;var Yn=Gn(-1);const Zn=Yn;var Jn=B(function(e,n){for(var t=[],r=0,a=n.length;r<a;){for(var i=r+1;i<a&&e(n[i-1],n[i]);)i+=1;t.push(n.slice(r,i)),r=i}return t});const et=Jn,nt=e=>e.definition!=="",tt=e=>e.translation!=="";function rt(e){const n=[...e];let t=n.length;for(;t;){const r=Math.floor(Math.random()*t);t-=1;const a=n[t];n[t]=n[r],n[r]=a}return n}function at({answersCount:e,correctAnswersCount:n}){return e+n}function it({answersCount:e,correctAnswersCount:n}){return e===0?0:Math.floor(100/e*n)}var U=(e=>(e.Relative="relative",e.Absolute="absolute",e))(U||{});const st=e=>typeof e=="string"&&Object.values(U).some(zn(e)),ct={relative:it,absolute:at},ot=e=>async({ignoreScoreOfNewTerms:n,scoreAlgorithm:t,tags:r})=>{const a=[],i=new Set(r);return await e.terms.filter(c=>(tt(c)||nt(c))&&(i.size===0||c.tags.some(s=>i.has(s)))).each(c=>{a.push({id:c.id,score:n&&c.answersCount<10?0:ct[t](c)})}),a.sort((c,s)=>s.score-c.score),et((c,s)=>c.score===s.score,a).map(c=>rt(c)).reduce((c,s)=>[...c,...s.map(o=>o.id)],[])},V=Qe({key:"practice/session",default:{config:void 0,isActive:!1,queue:[],isRevealed:!1}}),lt=()=>{const{db:e}=he(),n=Ge(V),[t,r]=h.useState({scoreAlgorithm:U.Relative,playAfterReveal:!1,ignoreScoreOfNewTerms:!1,tags:[]}),{isPending:a,mutateAsync:i}=ge({mutationFn:ot(e)}),c=()=>{i(t).then(f=>n({config:t,queue:f,isActive:!0,isRevealed:!1})).catch(console.error)},s=f=>r(m=>({...m,...f}));if(a)return d.jsx(F,{label:"Preparing practice session queue ..."});const{scoreAlgorithm:o,playAfterReveal:u,ignoreScoreOfNewTerms:g}=t;return d.jsxs(d.Fragment,{children:[d.jsx(en.Group,{buttonStyle:"solid",name:"scoreAlgorithm",optionType:"button",options:Object.values(U).map(f=>({label:f,value:f,style:{flexGrow:1,textAlign:"center"}})),style:{display:"flex"},value:o,onChange:({target:{value:f}})=>s({scoreAlgorithm:st(f)?f:void 0})}),d.jsx(te,{checked:u,checkedChildren:"Play word after reveal",unCheckedChildren:"Play word after reveal",onChange:f=>s({playAfterReveal:f})}),d.jsx(te,{checked:g,checkedChildren:"Ignore score for items with less then 11 answers",unCheckedChildren:"Don't ignore score for items with less then 11 answers",onChange:f=>s({ignoreScoreOfNewTerms:f})}),d.jsx(Je,{style:{width:"100%"},value:t.tags,onChange:f=>s({tags:f})}),d.jsx(M,{onClick:c,children:"Start session"})]})},ut="returnUrl",dt=e=>async(n,t)=>{const r=await e.terms.get(n);r&&(r.answersCount+=1,t&&(r.correctAnswersCount+=1),await e.terms.put(r))},ft=()=>{const e=window.speechSynthesis;return h.useEffect(()=>()=>e.cancel(),[e]),{speak:n=>{e.cancel();const t=new SpeechSynthesisUtterance(n);e.speak(t)}}},ht=W(R.Body)`
  overflow: auto;
`,gt=W.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
`,mt=()=>{const e=Xe(),{pathname:n}=Ye(),{speak:t}=ft(),{db:r,termsRepository:a}=he(),i=Ze(),[{queue:c,isRevealed:s,config:o},u]=me(V),g=Zn(c),f=(o==null?void 0:o.playAfterReveal)??!1,{data:m,isFetching:C}=nn({queryKey:Q.terms.id(g),queryFn:({signal:y})=>de(g)?void 0:a.getById(g,y),enabled:!de(g)}),{mutateAsync:I,isPending:$}=ge({mutationFn:async({id:y,isCorrect:p})=>await dt(r)(y,p),onSuccess:(y,{id:p})=>i.invalidateQueries({queryKey:Q.terms.id(p)})}),O=()=>{u(y=>({...y,isRevealed:!0})),m&&f&&t(m.word)},N=y=>{(m==null?void 0:m.id)!==void 0&&I({id:m.id,isCorrect:y}).then(()=>u(p=>({...p,queue:p.queue.slice(0,-1),isRevealed:!1}))).catch(console.error)},w=()=>{m!=null&&m.id&&e(`/${m.id}`,{state:{[ut]:n}})};return C?d.jsx(F,{label:"Loading term ..."}):$?d.jsx(F,{label:"Updating term answers ..."}):m?d.jsxs(d.Fragment,{children:[d.jsx(R,{children:d.jsxs(R.Body,{className:"text-center",children:[d.jsx("div",{children:m.translation}),d.jsxs("div",{children:["(",d.jsx("i",{children:m.partOfSpeech}),")"]})]})}),d.jsx(R,{children:d.jsx(ht,{className:"text-center",children:m.definition})}),d.jsx(R,{children:d.jsx(R.Body,{className:"text-center",children:s?d.jsxs(gt,{children:[m.word,d.jsx(M,{onClick:()=>t(m.word),children:"Play it again"})]}):"?"})}),s?d.jsxs(d.Fragment,{children:[d.jsx(M,{variant:"success",onClick:()=>N(!0),children:"I was correct"}),d.jsx(M,{variant:"danger",onClick:()=>N(!1),children:"I was incorrect"})]}):d.jsx(M,{onClick:O,children:"Reveal answer"}),d.jsx(M,{onClick:w,children:"Edit current term"})]}):d.jsx("p",{children:"You've finished all the terms!"})},yt=W.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Et=()=>{const[{isActive:e},n]=me(V),t=()=>{n(r=>({...r,config:void 0,queue:[],isActive:!1}))};return d.jsx(yt,{children:e?d.jsxs(d.Fragment,{children:[d.jsx(mt,{}),d.jsx(M,{onClick:t,children:"End session"})]}):d.jsx(lt,{})})};export{Et as default};
