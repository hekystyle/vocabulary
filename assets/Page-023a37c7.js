import{r as d,e as C,f as be,j as u,g as v,C as Me,h as le,i as Re,T as Te,m as _e,k as je,l as Ue,n as ke,D as Le,o as Pe,W as He,L as Fe,p as R,q as T,t as D,R as De,v as ue,w as Ke,c as de,S as P,x as K,b as Be,y as We,z as qe,E as fe}from"./index-0d2b499c.js";import{T as ze}from"./Tags-e021fd13.js";import{R as Qe}from"./index-e93239d3.js";import{u as Ge,Q as q}from"./queryKeys-5edfb66c.js";const he=d.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:a=!1,disabled:i=!1,className:c,...s},o)=>{const f=C(e,"btn"),[m,{tagName:g}]=be({tagName:n,disabled:i,...s}),h=g;return u.jsx(h,{...m,...s,ref:o,disabled:i,className:v(c,f,a&&"active",t&&`${f}-${t}`,r&&`${f}-${r}`,s.href&&i&&"disabled")})});he.displayName="Button";const x=he,ge=d.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=C(e,"card-body"),u.jsx(t,{ref:a,className:v(n,e),...r})));ge.displayName="CardBody";const me=ge,pe=d.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=C(e,"card-footer"),u.jsx(t,{ref:a,className:v(n,e),...r})));pe.displayName="CardFooter";const Ve=pe,ye=d.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},a)=>{const i=C(n,"card-header"),c=d.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return u.jsx(Me.Provider,{value:c,children:u.jsx(t,{ref:a,...r,className:v(e,i)})})});ye.displayName="CardHeader";const Xe=ye,Se=d.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...a},i)=>{const c=C(n,"card-img");return u.jsx(r,{ref:i,className:v(t?`${c}-${t}`:c,e),...a})});Se.displayName="CardImg";const Ye=Se,ve=d.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=C(e,"card-img-overlay"),u.jsx(t,{ref:a,className:v(n,e),...r})));ve.displayName="CardImgOverlay";const Ze=ve,Ce=d.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},a)=>(e=C(e,"card-link"),u.jsx(t,{ref:a,className:v(n,e),...r})));Ce.displayName="CardLink";const Je=Ce,en=le("h6"),Ee=d.forwardRef(({className:n,bsPrefix:e,as:t=en,...r},a)=>(e=C(e,"card-subtitle"),u.jsx(t,{ref:a,className:v(n,e),...r})));Ee.displayName="CardSubtitle";const nn=Ee,we=d.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},a)=>(e=C(e,"card-text"),u.jsx(t,{ref:a,className:v(n,e),...r})));we.displayName="CardText";const tn=we,rn=le("h5"),Ie=d.forwardRef(({className:n,bsPrefix:e,as:t=rn,...r},a)=>(e=C(e,"card-title"),u.jsx(t,{ref:a,className:v(n,e),...r})));Ie.displayName="CardTitle";const an=Ie,Ne=d.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:a,body:i=!1,children:c,as:s="div",...o},f)=>{const m=C(n,"card");return u.jsx(s,{ref:f,...o,className:v(e,m,t&&`bg-${t}`,r&&`text-${r}`,a&&`border-${a}`),children:i?u.jsx(me,{children:c}):c})});Ne.displayName="Card";const O=Object.assign(Ne,{Img:Ye,Title:an,Subtitle:nn,Body:me,Link:Je,Text:tn,Header:Xe,Footer:Ve,ImgOverlay:Ze});function H(){return H=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},H.apply(this,arguments)}function b(n){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(n)}function sn(n,e){if(b(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(b(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cn(n){var e=sn(n,"string");return b(e)==="symbol"?e:String(e)}function z(n,e,t){return e=cn(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function on(n){if(Array.isArray(n))return n}function ln(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,i,c,s=[],o=!0,f=!1;try{if(i=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;o=!1}else for(;!(o=(r=i.call(t)).done)&&(s.push(r.value),s.length!==e);o=!0);}catch(m){f=!0,a=m}finally{try{if(!o&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return s}}function Q(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function un(n,e){if(n){if(typeof n=="string")return Q(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(n,e)}}function dn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fn(n,e){return on(n)||ln(n,e)||un(n,e)||dn()}function hn(n,e){if(n==null)return{};var t={},r=Object.keys(n),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function gn(n,e){if(n==null)return{};var t=hn(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function mn(n){if(Array.isArray(n))return n}function pn(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,i,c,s=[],o=!0,f=!1;try{if(i=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;o=!1}else for(;!(o=(r=i.call(t)).done)&&(s.push(r.value),s.length!==e);o=!0);}catch(m){f=!0,a=m}finally{try{if(!o&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return s}}function G(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yn(n,e){if(n){if(typeof n=="string")return G(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G(n,e)}}function Sn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(n,e){return mn(n)||pn(n,e)||yn(n,e)||Sn()}function V(n){var e=d.useRef();e.current=n;var t=d.useCallback(function(){for(var r,a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(i))},[]);return t}function vn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var X=vn()?d.useLayoutEffect:d.useEffect,Y=function(e,t){var r=d.useRef(!0);X(function(){if(!r.current)return e()},t),X(function(){return r.current=!1,function(){r.current=!0}},[])};function Z(n){var e=d.useRef(!1),t=d.useState(n),r=F(t,2),a=r[0],i=r[1];d.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function c(s,o){o&&e.current||i(s)}return[a,c]}function k(n){return n!==void 0}function Cn(n,e){var t=e||{},r=t.defaultValue,a=t.value,i=t.onChange,c=t.postState,s=Z(function(){return k(a)?a:k(r)?typeof r=="function"?r():r:typeof n=="function"?n():n}),o=F(s,2),f=o[0],m=o[1],g=a!==void 0?a:f,h=c?c(g):g,I=V(i),N=Z([g]),S=F(N,2),$=S[0],A=S[1];Y(function(){var p=$[0];f!==p&&I(f,p)},[$]),Y(function(){k(a)||m(a)},[a]);var E=V(function(p,y){m(p,y),A([g],y)});return[h,E]}var l={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=l.F1&&t<=l.F12)return!1;switch(t){case l.ALT:case l.CAPS_LOCK:case l.CONTEXT_MENU:case l.CTRL:case l.DOWN:case l.END:case l.ESC:case l.HOME:case l.INSERT:case l.LEFT:case l.MAC_FF_META:case l.META:case l.NUMLOCK:case l.NUM_CENTER:case l.PAGE_DOWN:case l.PAGE_UP:case l.PAUSE:case l.PRINT_SCREEN:case l.RIGHT:case l.SHIFT:case l.UP:case l.WIN_KEY:case l.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=l.ZERO&&e<=l.NINE||e>=l.NUM_ZERO&&e<=l.NUM_MULTIPLY||e>=l.A&&e<=l.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case l.SPACE:case l.QUESTION_MARK:case l.NUM_PLUS:case l.NUM_MINUS:case l.NUM_PERIOD:case l.NUM_DIVISION:case l.SEMICOLON:case l.DASH:case l.EQUALS:case l.COMMA:case l.PERIOD:case l.SLASH:case l.APOSTROPHE:case l.SINGLE_QUOTE:case l.OPEN_SQUARE_BRACKET:case l.BACKSLASH:case l.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},En=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],Ae=d.forwardRef(function(n,e){var t,r=n.prefixCls,a=r===void 0?"rc-switch":r,i=n.className,c=n.checked,s=n.defaultChecked,o=n.disabled,f=n.loadingIcon,m=n.checkedChildren,g=n.unCheckedChildren,h=n.onClick,I=n.onChange,N=n.onKeyDown,S=gn(n,En),$=Cn(!1,{value:c,defaultValue:s}),A=fn($,2),E=A[0],p=A[1];function y(w,U){var M=E;return o||(M=w,p(M),I==null||I(M,U)),M}function j(w){w.which===l.LEFT?y(!1,w):w.which===l.RIGHT&&y(!0,w),N==null||N(w)}function xe(w){var U=y(!E,w);h==null||h(U,w)}var Oe=v(a,i,(t={},z(t,"".concat(a,"-checked"),E),z(t,"".concat(a,"-disabled"),o),t));return d.createElement("button",H({},S,{type:"button",role:"switch","aria-checked":E,disabled:o,className:Oe,ref:e,onKeyDown:j,onClick:xe}),f,d.createElement("span",{className:"".concat(a,"-inner")},d.createElement("span",{className:"".concat(a,"-inner-checked")},m),d.createElement("span",{className:"".concat(a,"-inner-unchecked")},g)))});Ae.displayName="Switch";const wn=n=>{const{componentCls:e,trackHeightSM:t,trackPadding:r,trackMinWidthSM:a,innerMinMarginSM:i,innerMaxMarginSM:c,handleSizeSM:s}=n,o=`${e}-inner`;return{[e]:{[`&${e}-small`]:{minWidth:a,height:t,lineHeight:`${t}px`,[`${e}-inner`]:{paddingInlineStart:c,paddingInlineEnd:i,[`${o}-checked`]:{marginInlineStart:`calc(-100% + ${s+r*2}px - ${c*2}px)`,marginInlineEnd:`calc(100% - ${s+r*2}px + ${c*2}px)`},[`${o}-unchecked`]:{marginTop:-t,marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:s,height:s},[`${e}-loading-icon`]:{top:(s-n.switchLoadingIconSize)/2,fontSize:n.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:i,paddingInlineEnd:c,[`${o}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${o}-unchecked`]:{marginInlineStart:`calc(100% - ${s+r*2}px + ${c*2}px)`,marginInlineEnd:`calc(-100% + ${s+r*2}px - ${c*2}px)`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${s+r}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${o}`]:{[`${o}-unchecked`]:{marginInlineStart:n.marginXXS/2,marginInlineEnd:-n.marginXXS/2}},[`&${e}-checked ${o}`]:{[`${o}-checked`]:{marginInlineStart:-n.marginXXS/2,marginInlineEnd:n.marginXXS/2}}}}}}},In=n=>{const{componentCls:e,handleSize:t}=n;return{[e]:{[`${e}-loading-icon${n.iconCls}`]:{position:"relative",top:(t-n.fontSize)/2,color:n.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:n.switchColor}}}},Nn=n=>{const{componentCls:e,motion:t,trackPadding:r,handleBg:a,handleShadow:i,handleSize:c}=n,s=`${e}-handle`;return{[e]:{[s]:{position:"absolute",top:r,insetInlineStart:r,width:c,height:c,transition:`all ${n.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:a,borderRadius:c/2,boxShadow:i,transition:`all ${n.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${s}`]:{insetInlineStart:`calc(100% - ${c+r}px)`},[`&:not(${e}-disabled):active`]:t?{[`${s}::before`]:{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${s}::before`]:{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}}:{}}}},An=n=>{const{componentCls:e,trackHeight:t,trackPadding:r,innerMinMargin:a,innerMaxMargin:i,handleSize:c}=n,s=`${e}-inner`;return{[e]:{[s]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:i,paddingInlineEnd:a,transition:`padding-inline-start ${n.switchDuration} ease-in-out, padding-inline-end ${n.switchDuration} ease-in-out`,[`${s}-checked, ${s}-unchecked`]:{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:`margin-inline-start ${n.switchDuration} ease-in-out, margin-inline-end ${n.switchDuration} ease-in-out`,pointerEvents:"none"},[`${s}-checked`]:{marginInlineStart:`calc(-100% + ${c+r*2}px - ${i*2}px)`,marginInlineEnd:`calc(100% - ${c+r*2}px + ${i*2}px)`},[`${s}-unchecked`]:{marginTop:-t,marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${s}`]:{paddingInlineStart:a,paddingInlineEnd:i,[`${s}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${s}-unchecked`]:{marginInlineStart:`calc(100% - ${c+r*2}px + ${i*2}px)`,marginInlineEnd:`calc(-100% + ${c+r*2}px - ${i*2}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${s}`]:{[`${s}-unchecked`]:{marginInlineStart:r*2,marginInlineEnd:-r*2}},[`&${e}-checked ${s}`]:{[`${s}-checked`]:{marginInlineStart:-r*2,marginInlineEnd:r*2}}}}}},$n=n=>{const{componentCls:e,trackHeight:t,trackMinWidth:r}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},je(n)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:t,lineHeight:`${t}px`,verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${n.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:n.colorTextTertiary}}),Ue(n)),{[`&${e}-checked`]:{background:n.switchColor,[`&:hover:not(${e}-disabled)`]:{background:n.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},xn=Re("Switch",n=>{const e=_e(n,{switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchLoadingIconSize:n.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${n.opacityLoading})`,switchHandleActiveInset:"-30%"});return[$n(e),An(e),Nn(e),In(e),wn(e)]},n=>{const{fontSize:e,lineHeight:t,controlHeight:r,colorWhite:a}=n,i=e*t,c=r/2,s=2,o=i-s*2,f=c-s*2;return{trackHeight:i,trackHeightSM:c,trackMinWidth:o*2+s*4,trackMinWidthSM:f*2+s*2,trackPadding:s,handleBg:a,handleSize:o,handleSizeSM:f,handleShadow:`0 2px 4px 0 ${new Te("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:o/2,innerMaxMargin:o+s+s*2,innerMinMarginSM:f/2,innerMaxMarginSM:f+s+s*2}});var On=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const $e=d.forwardRef((n,e)=>{const{prefixCls:t,size:r,disabled:a,loading:i,className:c,rootClassName:s,style:o}=n,f=On(n,["prefixCls","size","disabled","loading","className","rootClassName","style"]),{getPrefixCls:m,direction:g,switch:h}=d.useContext(ke),I=d.useContext(Le),N=(a??I)||i,S=m("switch",t),$=d.createElement("div",{className:`${S}-handle`},i&&d.createElement(Fe,{className:`${S}-loading-icon`})),[A,E]=xn(S),p=Pe(r),y=v(h==null?void 0:h.className,{[`${S}-small`]:p==="small",[`${S}-loading`]:i,[`${S}-rtl`]:g==="rtl"},c,s,E),j=Object.assign(Object.assign({},h==null?void 0:h.style),o);return A(d.createElement(He,{component:"Switch"},d.createElement(Ae,Object.assign({},f,{prefixCls:S,className:y,style:j,disabled:N,ref:e,loadingIcon:$}))))});$e.__ANT_SWITCH=!0;const J=$e;function ee(n){for(var e=[],t;!(t=n.next()).done;)e.push(t.value);return e}function ne(n,e,t){for(var r=0,a=t.length;r<a;){if(n(e,t[r]))return!0;r+=1}return!1}function bn(n){var e=String(n).match(/^function (\w*)/);return e==null?"":e[1]}function Mn(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}const L=typeof Object.is=="function"?Object.is:Mn;var te=Object.prototype.toString,Rn=function(){return te.call(arguments)==="[object Arguments]"?function(e){return te.call(e)==="[object Arguments]"}:function(e){return R("callee",e)}}();const Tn=Rn;var _n=!{toString:null}.propertyIsEnumerable("toString"),re=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ae=function(){return arguments.propertyIsEnumerable("length")}(),jn=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},Un=typeof Object.keys=="function"&&!ae?T(function(e){return Object(e)!==e?[]:Object.keys(e)}):T(function(e){if(Object(e)!==e)return[];var t,r,a=[],i=ae&&Tn(e);for(t in e)R(t,e)&&(!i||t!=="length")&&(a[a.length]=t);if(_n)for(r=re.length-1;r>=0;)t=re[r],R(t,e)&&!jn(a,t)&&(a[a.length]=t),r-=1;return a});const ie=Un;var kn=T(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});const se=kn;function ce(n,e,t,r){var a=ee(n),i=ee(e);function c(s,o){return B(s,o,t.slice(),r.slice())}return!ne(function(s,o){return!ne(c,o,s)},i,a)}function B(n,e,t,r){if(L(n,e))return!0;var a=se(n);if(a!==se(e))return!1;if(typeof n["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof n["fantasy-land/equals"]=="function"&&n["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](n);if(typeof n.equals=="function"||typeof e.equals=="function")return typeof n.equals=="function"&&n.equals(e)&&typeof e.equals=="function"&&e.equals(n);switch(a){case"Arguments":case"Array":case"Object":if(typeof n.constructor=="function"&&bn(n.constructor)==="Promise")return n===e;break;case"Boolean":case"Number":case"String":if(!(typeof n==typeof e&&L(n.valueOf(),e.valueOf())))return!1;break;case"Date":if(!L(n.valueOf(),e.valueOf()))return!1;break;case"Error":return n.name===e.name&&n.message===e.message;case"RegExp":if(!(n.source===e.source&&n.global===e.global&&n.ignoreCase===e.ignoreCase&&n.multiline===e.multiline&&n.sticky===e.sticky&&n.unicode===e.unicode))return!1;break}for(var i=t.length-1;i>=0;){if(t[i]===n)return r[i]===e;i-=1}switch(a){case"Map":return n.size!==e.size?!1:ce(n.entries(),e.entries(),t.concat([n]),r.concat([e]));case"Set":return n.size!==e.size?!1:ce(n.values(),e.values(),t.concat([n]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=ie(n);if(c.length!==ie(e).length)return!1;var s=t.concat([n]),o=r.concat([e]);for(i=c.length-1;i>=0;){var f=c[i];if(!(R(f,e)&&B(e[f],n[f],s,o)))return!1;i-=1}return!0}var Ln=D(function(e,t){return B(e,t,[],[])});const Pn=Ln;function Hn(n){return Object.prototype.toString.call(n)==="[object String]"}var Fn=D(function(e,t){var r=e<0?t.length+e:e;return Hn(t)?t.charAt(r):t[r]});const Dn=Fn;var Kn=T(function(e){return e==null});const oe=Kn;var Bn=Dn(-1);const Wn=Bn;var qn=D(function(n,e){for(var t=[],r=0,a=e.length;r<a;){for(var i=r+1;i<a&&n(e[i-1],e[i]);)i+=1;t.push(e.slice(r,i)),r=i}return t});const zn=qn,Qn=n=>n.definition!=="",Gn=n=>n.translation!=="";function Vn(n){const e=[...n];let t=e.length;for(;t;){const r=Math.floor(Math.random()*t);t-=1;const a=e[t];e[t]=e[r],e[r]=a}return e}function Xn({answersCount:n,correctAnswersCount:e}){return n+e}function Yn({answersCount:n,correctAnswersCount:e}){return n===0?0:Math.floor(100/n*e)}var _=(n=>(n.Relative="relative",n.Absolute="absolute",n))(_||{});const Zn=n=>typeof n=="string"&&Object.values(_).some(Pn(n)),Jn={relative:Yn,absolute:Xn},et=n=>async({ignoreScoreOfNewTerms:e,scoreAlgorithm:t,tags:r})=>{const a=[],i=new Set(r);return await n.terms.filter(c=>(Gn(c)||Qn(c))&&(i.size===0||c.tags.some(s=>i.has(s)))).each(c=>{a.push({id:c.id,score:e&&c.answersCount<10?0:Jn[t](c)})}),a.sort((c,s)=>s.score-c.score),zn((c,s)=>c.score===s.score,a).map(c=>Vn(c)).reduce((c,s)=>[...c,...s.map(o=>o.id)],[])},W=De({key:"practice/session",default:{config:void 0,isActive:!1,queue:[],isRevealed:!1}}),nt=()=>{const{db:n}=ue(),e=Ke(W),[t,r]=d.useState({scoreAlgorithm:_.Relative,playAfterReveal:!1,ignoreScoreOfNewTerms:!1,tags:[]}),{isPending:a,mutateAsync:i}=de({mutationFn:et(n)}),c=()=>{i(t).then(g=>e({config:t,queue:g,isActive:!0,isRevealed:!1})).catch(console.error)},s=g=>r(h=>({...h,...g}));if(a)return u.jsx(P,{label:"Preparing practice session queue ..."});const{scoreAlgorithm:o,playAfterReveal:f,ignoreScoreOfNewTerms:m}=t;return u.jsxs(u.Fragment,{children:[u.jsx(Qe.Group,{buttonStyle:"solid",name:"scoreAlgorithm",optionType:"button",options:Object.values(_).map(g=>({label:g,value:g,style:{flexGrow:1,textAlign:"center"}})),style:{display:"flex"},value:o,onChange:({target:{value:g}})=>s({scoreAlgorithm:Zn(g)?g:void 0})}),u.jsx(J,{checked:f,checkedChildren:"Play word after reveal",unCheckedChildren:"Play word after reveal",onChange:g=>s({playAfterReveal:g})}),u.jsx(J,{checked:m,checkedChildren:"Ignore score for items with less then 11 answers",unCheckedChildren:"Don't ignore score for items with less then 11 answers",onChange:g=>s({ignoreScoreOfNewTerms:g})}),u.jsx(ze,{style:{width:"100%"},value:t.tags,onChange:g=>s({tags:g})}),u.jsx(x,{onClick:c,children:"Start session"})]})},tt="returnUrl",rt=n=>async(e,t)=>{const r=await n.terms.get(e);r&&(r.answersCount+=1,t&&(r.correctAnswersCount+=1),await n.terms.put(r))},at=()=>{const n=window.speechSynthesis;return d.useEffect(()=>()=>n.cancel(),[n]),{speak:e=>{n.cancel();const t=new SpeechSynthesisUtterance(e);n.speak(t)}}},it=K(O.Body)`
  overflow: auto;
`,st=K.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
`,ct=()=>{const n=Be(),{pathname:e}=We(),{speak:t}=at(),{db:r,termsRepository:a}=ue(),i=qe(),[{queue:c,isRevealed:s,config:o},f]=fe(W),m=Wn(c),g=(o==null?void 0:o.playAfterReveal)??!1,{data:h,isFetching:I}=Ge({queryKey:q.terms.id(m),queryFn:({signal:p})=>oe(m)?void 0:a.getById(m,p),enabled:!oe(m)}),{mutateAsync:N,isPending:S}=de({mutationFn:async({id:p,isCorrect:y})=>await rt(r)(p,y),onSuccess:(p,{id:y})=>i.invalidateQueries({queryKey:q.terms.id(y)})}),$=()=>{f(p=>({...p,isRevealed:!0})),h&&g&&t(h.word)},A=p=>{(h==null?void 0:h.id)!==void 0&&N({id:h.id,isCorrect:p}).then(()=>f(y=>({...y,queue:y.queue.slice(0,-1),isRevealed:!1}))).catch(console.error)},E=()=>{h!=null&&h.id&&n(`/records/${h.id}`,{state:{[tt]:e}})};return I?u.jsx(P,{label:"Loading term ..."}):S?u.jsx(P,{label:"Updating term answers ..."}):h?u.jsxs(u.Fragment,{children:[u.jsx(O,{children:u.jsxs(O.Body,{className:"text-center",children:[u.jsx("div",{children:h.translation}),u.jsxs("div",{children:["(",u.jsx("i",{children:h.partOfSpeech}),")"]})]})}),u.jsx(O,{children:u.jsx(it,{className:"text-center",children:h.definition})}),u.jsx(O,{children:u.jsx(O.Body,{className:"text-center",children:s?u.jsxs(st,{children:[h.word,u.jsx(x,{onClick:()=>t(h.word),children:"Play it again"})]}):"?"})}),s?u.jsxs(u.Fragment,{children:[u.jsx(x,{variant:"success",onClick:()=>A(!0),children:"I was correct"}),u.jsx(x,{variant:"danger",onClick:()=>A(!1),children:"I was incorrect"})]}):u.jsx(x,{onClick:$,children:"Reveal answer"}),u.jsx(x,{onClick:E,children:"Edit current term"})]}):u.jsx("p",{children:"You've finished all the terms!"})},ot=K.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,ht=()=>{const[{isActive:n},e]=fe(W),t=()=>{e(r=>({...r,config:void 0,queue:[],isActive:!1}))};return u.jsx(ot,{children:n?u.jsxs(u.Fragment,{children:[u.jsx(ct,{}),u.jsx(x,{onClick:t,children:"End session"})]}):u.jsx(nt,{})})};export{ht as default};
