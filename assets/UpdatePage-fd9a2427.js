import{n as b,o as h,l as j,t as U,v,j as t,S as i,w as F}from"./index-bc562a76.js";import{Q as u,u as N}from"./queryKeys-9765e9ef.js";import{F as S}from"./Form-fdecd220.js";import{u as w}from"./compact-item-31bc952f.js";import"./Tags-ff096a7e.js";import"./index-61b56b22.js";import"./button-de6cc494.js";function E(s){return typeof s.returnUrl=="string"}const q=()=>{const s=b(),r=h(),{termsRepository:n}=j(),{id:a}=U(),e=a?parseInt(a,10):NaN,p=v(u.terms.id(e)),{isFetching:f,error:c,data:d,status:l}=N({queryKey:u.terms.id(e),queryFn:async({signal:o})=>await n.getById(e,o),enabled:!Number.isNaN(e)}),{mutateAsync:g}=w({mutationKey:u.terms.id(e),mutationFn:n.update.bind(n)}),m=()=>{F(r.state)&&E(r.state)?s(r.state.returnUrl):s("/records")},x=o=>{g(o).then(m).catch(console.error)},y=()=>m();if(p)return t.jsx(i,{label:"Updating ..."});if(f)return t.jsx(i,{label:"Loading ..."});switch(l){case"loading":return t.jsx(i,{label:"Loading ..."});case"error":return t.jsxs("p",{children:["Error: ",c instanceof Error?c.message:"Unknown"]});case"success":return d===void 0?t.jsxs("p",{children:["Term not found by ID: ",a]}):t.jsx(S,{defaultValue:d,onCancel:y,onSubmit:x});default:return t.jsxs("p",{children:["Unknown status: ",l]})}};export{q as default};
