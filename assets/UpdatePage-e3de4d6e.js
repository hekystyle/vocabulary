import{k as h,l as j,m as U,t as y,v as E,j as r,p as i,w as v}from"./index-aa02ebbe.js";import{Q as c,u as N}from"./queryKeys-4c8f5fad.js";import{F as w}from"./Form-7a0bd65a.js";import{u as I}from"./compact-item-d8048b3f.js";import"./Tags-4b1894fb.js";import"./index-5717ce46.js";import"./button-5670b7c4.js";function S(s){return typeof s.returnUrl=="string"}const M=()=>{const s=h(),n=j(),{termsRepository:a}=U(),{id:o}=y(),t=o?parseInt(o,10):NaN,p=E(c.terms.id(t)),{isFetching:f,error:u,data:d,status:l}=N(c.terms.id(t),async({signal:e})=>await a.getById(t,e),{enabled:!Number.isNaN(t),onError:e=>console.error(e)}),{mutateAsync:g}=I(c.terms.id(t),a.update.bind(a),{onError:e=>console.error(e)}),m=()=>{v(n.state)&&S(n.state)?s(n.state.returnUrl):s("/records")},x=e=>{g(e).then(m).catch(console.error)},b=()=>m();if(p)return r.jsx(i,{label:"Updating ..."});if(f)return r.jsx(i,{label:"Loading ..."});switch(l){case"loading":return r.jsx(i,{label:"Loading ..."});case"error":return r.jsxs("p",{children:["Error: ",u instanceof Error?u.message:"Unknown"]});case"success":return d===void 0?r.jsxs("p",{children:["Term not found by ID: ",o]}):r.jsx(w,{defaultValue:d,onCancel:b,onSubmit:x});default:return r.jsxs("p",{children:["Unknown status: ",l]})}};export{M as default};
