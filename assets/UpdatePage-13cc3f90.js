import{k as y,l as v,m as E,x as N,y as x,p as I,q as S,j as s,t as i,v as c,z as j}from"./index-c82910a9.js";import{Q as u}from"./queryKeys-16ce566e.js";import{F as k}from"./Form-725761ff.js";import"./compact-item-7546c5f2.js";import"./Tags-67e6f371.js";import"./index-e216ee7f.js";import"./button-6904b3e1.js";function w(t){return typeof t.returnUrl=="string"}const M=()=>{const t=y(),a=v(),{termsRepository:n}=E(),{id:o}=N(),r=o?parseInt(o,10):NaN,f=x(u.terms.id(r)),{isFetching:g,error:d,data:l,status:m}=I(u.terms.id(r),async({signal:e})=>await n.getById(r,e),{enabled:!Number.isNaN(r),onError:e=>console.error(e)}),{mutateAsync:b}=S(u.terms.id(r),n.update.bind(n),{onError:e=>console.error(e)}),p=()=>{j(a.state)&&w(a.state)?t(a.state.returnUrl):t("/records")},h=e=>{b(e).then(p).catch(console.error)},U=()=>p();if(f)return s(i,{label:"Updating ..."});if(g)return s(i,{label:"Loading ..."});switch(m){case"loading":return s(i,{label:"Loading ..."});case"error":return c("p",{children:["Error: ",d instanceof Error?d.message:"Unknown"]});case"success":return l===void 0?c("p",{children:["Term not found by ID: ",o]}):s(k,{defaultValue:l,onCancel:U,onSubmit:h});default:return c("p",{children:["Unknown status: ",m]})}};export{M as default};
