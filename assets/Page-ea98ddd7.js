import{r as g,e as _,f as Ce,j as l,g as N,C as Me,h as b,i as ue,k as xe,m as be,T as Ae,l as Ne,n as $e,o as Oe,D as Pe,p as Re,W as Te,L as _e,q as P,t as R,v as K,R as je,w as de,x as Ue,c as fe,S as F,y as B,b as Le,z as He,E as Fe,F as he}from"./index-7f78f307.js";import{T as De}from"./Tags-892d018c.js";import{R as ze}from"./index-01f76892.js";import{u as Ke,Q}from"./queryKeys-39604b37.js";const ge=g.forwardRef(({as:e,bsPrefix:n,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:s,...o},u)=>{const f=_(n,"btn"),[m,{tagName:h}]=Ce({tagName:e,disabled:a,...o}),d=h;return l.jsx(d,{...m,...o,ref:u,disabled:a,className:N(s,f,i&&"active",t&&`${f}-${t}`,r&&`${f}-${r}`,o.href&&a&&"disabled")})});ge.displayName="Button";const x=ge,me=g.forwardRef(({bsPrefix:e,className:n,variant:t,as:r="img",...i},a)=>{const s=_(e,"card-img");return l.jsx(r,{ref:a,className:N(t?`${s}-${t}`:s,n),...i})});me.displayName="CardImg";const Be=me,Se=g.forwardRef(({bsPrefix:e,className:n,as:t="div",...r},i)=>{const a=_(e,"card-header"),s=g.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return l.jsx(Me.Provider,{value:s,children:l.jsx(t,{ref:i,...r,className:N(n,a)})})});Se.displayName="CardHeader";const We=Se,qe=ue("h5"),Qe=ue("h6"),pe=b("card-body"),Ge=b("card-title",{Component:qe}),Ve=b("card-subtitle",{Component:Qe}),Xe=b("card-link",{Component:"a"}),Ye=b("card-text",{Component:"p"}),Ze=b("card-footer"),Je=b("card-img-overlay"),ye=g.forwardRef(({bsPrefix:e,className:n,bg:t,text:r,border:i,body:a=!1,children:s,as:o="div",...u},f)=>{const m=_(e,"card");return l.jsx(o,{ref:f,...u,className:N(n,m,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?l.jsx(pe,{children:s}):s})});ye.displayName="Card";const A=Object.assign(ye,{Img:Be,Title:Ge,Subtitle:Ve,Body:pe,Link:Xe,Text:Ye,Header:We,Footer:Ze,ImgOverlay:Je});function D(){return D=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},D.apply(this,arguments)}function $(e){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$(e)}function ke(e,n){if($(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if($(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function en(e){var n=ke(e,"string");return $(n)==="symbol"?n:String(n)}function G(e,n,t){return n=en(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function nn(e){if(Array.isArray(e))return e}function tn(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,a,s,o=[],u=!0,f=!1;try{if(a=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function V(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function rn(e,n){if(e){if(typeof e=="string")return V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V(e,n)}}function an(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sn(e,n){return nn(e)||tn(e,n)||rn(e,n)||an()}function cn(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function on(e,n){if(e==null)return{};var t=cn(e,n),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function ln(e){if(Array.isArray(e))return e}function un(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,a,s,o=[],u=!0,f=!1;try{if(a=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function X(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function dn(e,n){if(e){if(typeof e=="string")return X(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X(e,n)}}function fn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(e,n){return ln(e)||un(e,n)||dn(e,n)||fn()}function Y(e){var n=g.useRef();n.current=e;var t=g.useCallback(function(){for(var r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(r=n.current)===null||r===void 0?void 0:r.call.apply(r,[n].concat(a))},[]);return t}function hn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Z=hn()?g.useLayoutEffect:g.useEffect,J=function(n,t){var r=g.useRef(!0);Z(function(){if(!r.current)return n()},t),Z(function(){return r.current=!1,function(){r.current=!0}},[])};function k(e){var n=g.useRef(!1),t=g.useState(e),r=z(t,2),i=r[0],a=r[1];g.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]);function s(o,u){u&&n.current||a(o)}return[i,s]}function L(e){return e!==void 0}function gn(e,n){var t=n||{},r=t.defaultValue,i=t.value,a=t.onChange,s=t.postState,o=k(function(){return L(i)?i:L(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),u=z(o,2),f=u[0],m=u[1],h=i!==void 0?i:f,d=s?s(h):h,I=Y(a),E=k([h]),y=z(E,2),M=y[0],C=y[1];J(function(){var S=M[0];f!==S&&I(f,S)},[M]),J(function(){L(i)||m(i)},[i]);var w=Y(function(S,p){m(S,p),C([h],p)});return[d,w]}var c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(n){var t=n.keyCode;if(n.altKey&&!n.ctrlKey||n.metaKey||t>=c.F1&&t<=c.F12)return!1;switch(t){case c.ALT:case c.CAPS_LOCK:case c.CONTEXT_MENU:case c.CTRL:case c.DOWN:case c.END:case c.ESC:case c.HOME:case c.INSERT:case c.LEFT:case c.MAC_FF_META:case c.META:case c.NUMLOCK:case c.NUM_CENTER:case c.PAGE_DOWN:case c.PAGE_UP:case c.PAUSE:case c.PRINT_SCREEN:case c.RIGHT:case c.SHIFT:case c.UP:case c.WIN_KEY:case c.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(n){if(n>=c.ZERO&&n<=c.NINE||n>=c.NUM_ZERO&&n<=c.NUM_MULTIPLY||n>=c.A&&n<=c.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&n===0)return!0;switch(n){case c.SPACE:case c.QUESTION_MARK:case c.NUM_PLUS:case c.NUM_MINUS:case c.NUM_PERIOD:case c.NUM_DIVISION:case c.SEMICOLON:case c.DASH:case c.EQUALS:case c.COMMA:case c.PERIOD:case c.SLASH:case c.APOSTROPHE:case c.SINGLE_QUOTE:case c.OPEN_SQUARE_BRACKET:case c.BACKSLASH:case c.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},mn=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],we=g.forwardRef(function(e,n){var t,r=e.prefixCls,i=r===void 0?"rc-switch":r,a=e.className,s=e.checked,o=e.defaultChecked,u=e.disabled,f=e.loadingIcon,m=e.checkedChildren,h=e.unCheckedChildren,d=e.onClick,I=e.onChange,E=e.onKeyDown,y=on(e,mn),M=gn(!1,{value:s,defaultValue:o}),C=sn(M,2),w=C[0],S=C[1];function p(v,U){var O=w;return u||(O=v,S(O),I==null||I(O,U)),O}function j(v){v.which===c.LEFT?p(!1,v):v.which===c.RIGHT&&p(!0,v),E==null||E(v)}function Ie(v){var U=p(!w,v);d==null||d(U,v)}var Ee=N(i,a,(t={},G(t,"".concat(i,"-checked"),w),G(t,"".concat(i,"-disabled"),u),t));return g.createElement("button",D({},y,{type:"button",role:"switch","aria-checked":w,disabled:u,className:Ee,ref:n,onKeyDown:j,onClick:Ie}),f,g.createElement("span",{className:"".concat(i,"-inner")},g.createElement("span",{className:"".concat(i,"-inner-checked")},m),g.createElement("span",{className:"".concat(i,"-inner-unchecked")},h)))});we.displayName="Switch";const Sn=e=>{const{componentCls:n}=e,t=`${n}-inner`;return{[n]:{[`&${n}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`},[`${t}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${n}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${n}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},pn=e=>{const{componentCls:n}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},yn=e=>{const{componentCls:n,motion:t}=e,r=`${n}-handle`;return{[n]:{[r]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${r}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${n}-disabled):active`]:t?{[`${r}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${r}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}:{}}}},wn=e=>{const{componentCls:n}=e,t=`${n}-inner`;return{[n]:{[t]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${t}-checked, ${t}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`},[`${t}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${t}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:e.switchPadding*2,marginInlineEnd:-e.switchPadding*2}},[`&${n}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:-e.switchPadding*2,marginInlineEnd:e.switchPadding*2}}}}}},vn=e=>{const{componentCls:n}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ne(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),$e(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},In=xe("Switch",e=>{const n=e.fontSize*e.lineHeight,t=e.controlHeight/2,r=2,i=n-r*2,a=t-r*2,s=be(e,{switchMinWidth:i*2+r*4,switchHeight:n,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:i/2,switchInnerMarginMax:i+r+r*2,switchPadding:r,switchPinSize:i,switchBg:e.colorBgContainer,switchMinWidthSM:a*2+r*2,switchHeightSM:t,switchInnerMarginMinSM:a/2,switchInnerMarginMaxSM:a+r+r*2,switchPinSizeSM:a,switchHandleShadow:`0 2px 4px 0 ${new Ae("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:e.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[vn(s),wn(s),yn(s),pn(s),Sn(s)]});var En=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const ve=g.forwardRef((e,n)=>{const{prefixCls:t,size:r,disabled:i,loading:a,className:s,rootClassName:o,style:u}=e,f=En(e,["prefixCls","size","disabled","loading","className","rootClassName","style"]),{getPrefixCls:m,direction:h,switch:d}=g.useContext(Oe),I=g.useContext(Pe),E=(i??I)||a,y=m("switch",t),M=g.createElement("div",{className:`${y}-handle`},a&&g.createElement(_e,{className:`${y}-loading-icon`})),[C,w]=In(y),S=Re(r),p=N(d==null?void 0:d.className,{[`${y}-small`]:S==="small",[`${y}-loading`]:a,[`${y}-rtl`]:h==="rtl"},s,o,w),j=Object.assign(Object.assign({},d==null?void 0:d.style),u);return C(g.createElement(Te,{component:"Switch"},g.createElement(we,Object.assign({},f,{prefixCls:y,className:p,style:j,disabled:E,ref:n,loadingIcon:M}))))});ve.__ANT_SWITCH=!0;const ee=ve;function ne(e){for(var n=[],t;!(t=e.next()).done;)n.push(t.value);return n}function te(e,n,t){for(var r=0,i=t.length;r<i;){if(e(n,t[r]))return!0;r+=1}return!1}function Cn(e){var n=String(e).match(/^function (\w*)/);return n==null?"":n[1]}function Mn(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}const H=typeof Object.is=="function"?Object.is:Mn;var re=Object.prototype.toString,xn=function(){return re.call(arguments)==="[object Arguments]"?function(n){return re.call(n)==="[object Arguments]"}:function(n){return P("callee",n)}}(),bn=!{toString:null}.propertyIsEnumerable("toString"),ie=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ae=function(){return arguments.propertyIsEnumerable("length")}(),An=function(n,t){for(var r=0;r<n.length;){if(n[r]===t)return!0;r+=1}return!1},se=typeof Object.keys=="function"&&!ae?R(function(n){return Object(n)!==n?[]:Object.keys(n)}):R(function(n){if(Object(n)!==n)return[];var t,r,i=[],a=ae&&xn(n);for(t in n)P(t,n)&&(!a||t!=="length")&&(i[i.length]=t);if(bn)for(r=ie.length-1;r>=0;)t=ie[r],P(t,n)&&!An(i,t)&&(i[i.length]=t),r-=1;return i}),ce=R(function(n){return n===null?"Null":n===void 0?"Undefined":Object.prototype.toString.call(n).slice(8,-1)});function oe(e,n,t,r){var i=ne(e),a=ne(n);function s(o,u){return W(o,u,t.slice(),r.slice())}return!te(function(o,u){return!te(s,u,o)},a,i)}function W(e,n,t,r){if(H(e,n))return!0;var i=ce(e);if(i!==ce(n))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof n["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](n)&&typeof n["fantasy-land/equals"]=="function"&&n["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof n.equals=="function")return typeof e.equals=="function"&&e.equals(n)&&typeof n.equals=="function"&&n.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Cn(e.constructor)==="Promise")return e===n;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof n&&H(e.valueOf(),n.valueOf())))return!1;break;case"Date":if(!H(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(!(e.source===n.source&&e.global===n.global&&e.ignoreCase===n.ignoreCase&&e.multiline===n.multiline&&e.sticky===n.sticky&&e.unicode===n.unicode))return!1;break}for(var a=t.length-1;a>=0;){if(t[a]===e)return r[a]===n;a-=1}switch(i){case"Map":return e.size!==n.size?!1:oe(e.entries(),n.entries(),t.concat([e]),r.concat([n]));case"Set":return e.size!==n.size?!1:oe(e.values(),n.values(),t.concat([e]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=se(e);if(s.length!==se(n).length)return!1;var o=t.concat([e]),u=r.concat([n]);for(a=s.length-1;a>=0;){var f=s[a];if(!(P(f,n)&&W(n[f],e[f],o,u)))return!1;a-=1}return!0}var Nn=K(function(n,t){return W(n,t,[],[])});const $n=Nn;function On(e){return Object.prototype.toString.call(e)==="[object String]"}var Pn=K(function(n,t){var r=n<0?t.length+n:n;return On(t)?t.charAt(r):t[r]});const Rn=Pn;var Tn=R(function(n){return n==null});const le=Tn;var _n=Rn(-1);const jn=_n;var Un=K(function(e,n){for(var t=[],r=0,i=n.length;r<i;){for(var a=r+1;a<i&&e(n[a-1],n[a]);)a+=1;t.push(n.slice(r,a)),r=a}return t});const Ln=Un,Hn=e=>e.definition!=="",Fn=e=>e.translation!=="";function Dn(e){const n=[...e];let t=n.length;for(;t;){const r=Math.floor(Math.random()*t);t-=1;const i=n[t];n[t]=n[r],n[r]=i}return n}function zn({answersCount:e,correctAnswersCount:n}){return e+n}function Kn({answersCount:e,correctAnswersCount:n}){return e===0?0:Math.floor(100/e*n)}var T=(e=>(e.Relative="relative",e.Absolute="absolute",e))(T||{});const Bn=e=>typeof e=="string"&&Object.values(T).some($n(e)),Wn={relative:Kn,absolute:zn},qn=e=>async({ignoreScoreOfNewTerms:n,scoreAlgorithm:t,tags:r})=>{const i=[],a=new Set(r);return await e.terms.filter(s=>(Fn(s)||Hn(s))&&(a.size===0||s.tags.some(o=>a.has(o)))).each(s=>{i.push({id:s.id,score:n&&s.answersCount<10?0:Wn[t](s)})}),i.sort((s,o)=>o.score-s.score),Ln((s,o)=>s.score===o.score,i).map(s=>Dn(s)).reduce((s,o)=>[...s,...o.map(u=>u.id)],[])},q=je({key:"practice/session",default:{config:void 0,isActive:!1,queue:[],isRevealed:!1}}),Qn=()=>{const{db:e}=de(),n=Ue(q),[t,r]=g.useState({scoreAlgorithm:T.Relative,playAfterReveal:!1,ignoreScoreOfNewTerms:!1,tags:[]}),{isLoading:i,mutateAsync:a}=fe({mutationFn:qn(e)}),s=()=>{a(t).then(h=>n({config:t,queue:h,isActive:!0,isRevealed:!1})).catch(console.error)},o=h=>r(d=>({...d,...h}));if(i)return l.jsx(F,{label:"Preparing practice session queue ..."});const{scoreAlgorithm:u,playAfterReveal:f,ignoreScoreOfNewTerms:m}=t;return l.jsxs(l.Fragment,{children:[l.jsx(ze.Group,{buttonStyle:"solid",name:"scoreAlgorithm",optionType:"button",options:Object.values(T).map(h=>({label:h,value:h,style:{flexGrow:1,textAlign:"center"}})),style:{display:"flex"},value:u,onChange:({target:{value:h}})=>o({scoreAlgorithm:Bn(h)?h:void 0})}),l.jsx(ee,{checked:f,checkedChildren:"Play word after reveal",unCheckedChildren:"Play word after reveal",onChange:h=>o({playAfterReveal:h})}),l.jsx(ee,{checked:m,checkedChildren:"Ignore score for items with less then 11 answers",unCheckedChildren:"Don't ignore score for items with less then 11 answers",onChange:h=>o({ignoreScoreOfNewTerms:h})}),l.jsx(De,{style:{width:"100%"},value:t.tags,onChange:h=>o({tags:h})}),l.jsx(x,{onClick:s,children:"Start session"})]})},Gn="returnUrl",Vn=e=>async(n,t)=>{const r=await e.terms.get(n);r&&(r.answersCount+=1,t&&(r.correctAnswersCount+=1),await e.terms.put(r))},Xn=()=>{const e=window.speechSynthesis;return g.useEffect(()=>()=>e.cancel(),[e]),{speak:n=>{e.cancel();const t=new SpeechSynthesisUtterance(n);e.speak(t)}}},Yn=B(A.Body)`
  overflow: auto;
`,Zn=B.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
`,Jn=()=>{const e=Le(),{pathname:n}=He(),{speak:t}=Xn(),{db:r,termsRepository:i}=de(),a=Fe(),[{queue:s,isRevealed:o,config:u},f]=he(q),m=jn(s),h=(u==null?void 0:u.playAfterReveal)??!1,{data:d,isFetching:I}=Ke({queryKey:Q.terms.id(m),queryFn:({signal:S})=>le(m)?void 0:i.getById(m,S),enabled:!le(m)}),{mutateAsync:E,isLoading:y}=fe({mutationFn:async({id:S,isCorrect:p})=>await Vn(r)(S,p),onSuccess:(S,{id:p})=>a.invalidateQueries(Q.terms.id(p))}),M=()=>{f(S=>({...S,isRevealed:!0})),d&&h&&t(d.word)},C=S=>{(d==null?void 0:d.id)!==void 0&&E({id:d.id,isCorrect:S}).then(()=>f(p=>({...p,queue:p.queue.slice(0,-1),isRevealed:!1}))).catch(console.error)},w=()=>{d!=null&&d.id&&e(`/records/${d.id}`,{state:{[Gn]:n}})};return I?l.jsx(F,{label:"Loading term ..."}):y?l.jsx(F,{label:"Updating term answers ..."}):d?l.jsxs(l.Fragment,{children:[l.jsx(A,{children:l.jsxs(A.Body,{className:"text-center",children:[l.jsx("div",{children:d.translation}),l.jsxs("div",{children:["(",l.jsx("i",{children:d.partOfSpeech}),")"]})]})}),l.jsx(A,{children:l.jsx(Yn,{className:"text-center",children:d.definition})}),l.jsx(A,{children:l.jsx(A.Body,{className:"text-center",children:o?l.jsxs(Zn,{children:[d.word,l.jsx(x,{onClick:()=>t(d.word),children:"Play it again"})]}):"?"})}),o?l.jsxs(l.Fragment,{children:[l.jsx(x,{variant:"success",onClick:()=>C(!0),children:"I was correct"}),l.jsx(x,{variant:"danger",onClick:()=>C(!1),children:"I was incorrect"})]}):l.jsx(x,{onClick:M,children:"Reveal answer"}),l.jsx(x,{onClick:w,children:"Edit current term"})]}):l.jsx("p",{children:"You've finished all the terms!"})},kn=B.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,it=()=>{const[{isActive:e},n]=he(q),t=()=>{n(r=>({...r,config:void 0,queue:[],isActive:!1}))};return l.jsx(kn,{children:e?l.jsxs(l.Fragment,{children:[l.jsx(Jn,{}),l.jsx(x,{onClick:t,children:"End session"})]}):l.jsx(Qn,{})})};export{it as default};
