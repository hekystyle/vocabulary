import{N as e,E as y,j as r,r as f,B as d}from"./index-aOgLVEd_.js";import{T as g}from"./Tags-DqTFir_X.js";import{u as m,Q as x}from"./queryKeys-Vai_89jU.js";import{I as p}from"./index-G6NdwZVn.js";const j=e.object({definition:e.string(),synonyms:e.array(e.string()),antonyms:e.array(e.string()),example:e.string().optional().default("")}),w=e.object({partOfSpeech:e.string(),definitions:e.array(j),synonyms:e.array(e.string()),antonyms:e.array(e.string())}),h=e.object({name:e.string(),url:e.string().url()}),S=e.object({text:e.string(),audio:e.string().url(),sourceUrl:e.string().url(),license:h}),b=e.object({word:e.string(),phonetic:e.string(),phonetics:e.array(S),meanings:e.array(w),license:h,sourceUrls:e.array(e.string().url())}),C=async(l,{signal:o}={})=>{const a=await(await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en_US/${encodeURIComponent(l)}`,{headers:{Accept:"application/json"},signal:o})).json();return e.array(b).parse(a)},v=y.ul`
  color: white;
`,O=l=>{const{word:o,onPartOfSpeechClick:s,onDefinitionClick:a}=l,{data:c}=m({queryKey:x.dictionary.word(o),queryFn:async({signal:t})=>(await C(o,{signal:t}))[0],enabled:o!==""});return r.jsx(v,{children:c==null?void 0:c.meanings.map(t=>r.jsxs("li",{children:[r.jsx("div",{role:"button",tabIndex:0,onClick:()=>s==null?void 0:s(t.partOfSpeech),onKeyPress:()=>s==null?void 0:s(t.partOfSpeech),children:t.partOfSpeech}),r.jsx("ul",{children:t.definitions.map(i=>r.jsx("li",{children:r.jsx("div",{role:"button",tabIndex:0,onClick:()=>a==null?void 0:a({partOfSpeech:t.partOfSpeech,definition:i.definition}),onKeyPress:()=>a==null?void 0:a({partOfSpeech:t.partOfSpeech,definition:i.definition}),children:i.definition})},i.definition))})]},t.partOfSpeech))},o)},F=({defaultValue:l,onCancel:o,onSubmit:s})=>{const[a,c]=f.useState({word:"",partOfSpeech:"",translation:"",definition:"",answersCount:0,correctAnswersCount:0,tags:[],...l??{}}),t=n=>c(u=>({...u,...n})),i=()=>s(a);return r.jsxs(r.Fragment,{children:[r.jsx(p,{allowClear:!0,"aria-label":"Word",placeholder:"Word",style:{width:"100%"},value:a.word,onChange:n=>t({word:n.target.value})}),r.jsx(p,{allowClear:!0,"aria-label":"Part of speech",placeholder:"Part ot speech",style:{width:"100%"},value:a.partOfSpeech,onChange:n=>t({partOfSpeech:n.target.value})}),r.jsx(p,{"aria-label":"Translation",placeholder:"Translation",value:a.translation,onChange:n=>t({translation:n.target.value})}),r.jsx(p.TextArea,{"aria-label":"Definition",placeholder:"Definition",value:a.definition,onChange:n=>t({definition:n.target.value})}),r.jsx(g,{style:{width:"100%"},value:a.tags,onChange:n=>t({tags:n})}),r.jsxs(d.Group,{style:{display:"flex"},children:[r.jsx(d,{block:!0,type:"primary",onClick:i,children:"Confirm"}),r.jsx(d,{block:!0,danger:!0,type:"primary",onClick:o,children:"Cancel"})]}),r.jsx(O,{word:a.word,onDefinitionClick:n=>t(n),onPartOfSpeechClick:n=>t({partOfSpeech:n})})]})};export{F};
