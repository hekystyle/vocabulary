import{o as y,p as E,q as N,B as v,E as w,w as x,x as I,j as s,y as i,z as c,G as S}from"./index-8b98fa89.js";import{Q as u}from"./queryKeys-d072e361.js";import{F as j}from"./Form-bfbc6462.js";import"./compact-item-61091d69.js";import"./Tags-cbe5144e.js";import"./index-71cf63e8.js";import"./button-295b88c3.js";function B(t){return typeof t.returnUrl=="string"}const M=()=>{const t=y(),a=E(),{termsRepository:n}=N(),{id:o}=v(),r=o?parseInt(o,10):NaN,f=w(u.terms.id(r)),{isFetching:g,error:d,data:l,status:m}=x(u.terms.id(r),async({signal:e})=>await n.getById(r,e),{enabled:!Number.isNaN(r),onError:e=>console.error(e)}),{mutateAsync:b}=I(u.terms.id(r),n.update.bind(n),{onError:e=>console.error(e)}),p=()=>{S(a.state)&&B(a.state)?t(a.state.returnUrl):t("/records")},h=e=>{b(e).then(p).catch(console.error)},U=()=>p();if(f)return s(i,{label:"Updating ..."});if(g)return s(i,{label:"Loading ..."});switch(m){case"loading":return s(i,{label:"Loading ..."});case"error":return c("p",{children:["Error: ",d instanceof Error?d.message:"Unknown"]});case"success":return l===void 0?c("p",{children:["Term not found by ID: ",o]}):s(j,{defaultValue:l,onCancel:U,onSubmit:h});default:return c("p",{children:["Unknown status: ",m]})}};export{M as default};
