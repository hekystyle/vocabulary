import{b as y,z as h,w as j,H as U,I as F,c as I,j as e,S as i,J as N}from"./index-56e01978.js";import{Q as u,u as S}from"./queryKeys-5d0ef78c.js";import{F as v}from"./Form-65250d5f.js";import"./Tags-d88a31ff.js";import"./index-3d07ea9e.js";function w(s){return typeof s.returnUrl=="string"}const L=()=>{const s=y(),r=h(),{termsRepository:a}=j(),{id:n}=U(),t=n?parseInt(n,10):NaN,p=F(u.terms.id(t)),{isFetching:f,error:c,data:d,status:l}=S({queryKey:u.terms.id(t),queryFn:async({signal:o})=>await a.getById(t,o),enabled:!Number.isNaN(t)}),{mutateAsync:g}=I({mutationKey:u.terms.id(t),mutationFn:a.update.bind(a)}),m=()=>{N(r.state)&&w(r.state)?s(r.state.returnUrl):s("/records")},b=o=>{g(o).then(m).catch(console.error)},x=()=>m();if(p)return e.jsx(i,{label:"Updating ..."});if(f)return e.jsx(i,{label:"Loading ..."});switch(l){case"loading":return e.jsx(i,{label:"Loading ..."});case"error":return e.jsxs("p",{children:["Error: ",c instanceof Error?c.message:"Unknown"]});case"success":return d===void 0?e.jsxs("p",{children:["Term not found by ID: ",n]}):e.jsx(v,{defaultValue:d,onCancel:x,onSubmit:b});default:return e.jsxs("p",{children:["Unknown status: ",l]})}};export{L as default};
