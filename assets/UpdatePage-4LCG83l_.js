import{b,E as h,x as j,I as U,J as E,c as F,j as e,S as i,K as I}from"./index-SVKDvPPX.js";import{Q as u,u as N}from"./queryKeys-Gj0q2iwI.js";import{F as S}from"./Form-dpQOVVo5.js";import"./Tags-cmuKh_z9.js";import"./index-2GxXvFKr.js";function v(s){return typeof s.returnUrl=="string"}const L=()=>{const s=b(),n=h(),{termsRepository:r}=j(),{id:a}=U(),t=a?parseInt(a,10):NaN,p=E({mutationKey:u.terms.id(t)}),{isFetching:f,error:c,data:d,status:l}=N({queryKey:u.terms.id(t),queryFn:async({signal:o})=>await r.getById(t,o),enabled:!Number.isNaN(t)}),{mutateAsync:g}=F({mutationKey:u.terms.id(t),mutationFn:r.update.bind(r)}),m=()=>{I(n.state)&&v(n.state)?s(n.state.returnUrl):s("/records")},x=o=>{g(o).then(m).catch(console.error)},y=()=>m();if(p)return e.jsx(i,{label:"Updating ..."});if(f)return e.jsx(i,{label:"Loading ..."});switch(l){case"pending":return e.jsx(i,{label:"Loading ..."});case"error":return e.jsxs("p",{children:["Error: ",c instanceof Error?c.message:"Unknown"]});case"success":return d===void 0?e.jsxs("p",{children:["Term not found by ID: ",a]}):e.jsx(S,{defaultValue:d,onCancel:y,onSubmit:x});default:return e.jsxs("p",{children:["Unknown status: ",l]})}};export{L as default};
