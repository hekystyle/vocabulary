import{r as h,u as L,a as Ae,j as u,c as O,C as be,b as $,d as de,T as $e,e as Ne,g as Oe,f as Pe,S as xe,D as Re,_ as R,h as T,i as K,R as Te,s as W,k as _e,l as Ue,m as fe,n as Le,o as he,p as He,q as ge,t as z,v as A,F as _,w as De}from"./index-c82910a9.js";import{Q as G}from"./queryKeys-16ce566e.js";import{T as je}from"./Tags-67e6f371.js";import{R as ze}from"./index-23a749a2.js";import{g as Fe,m as Be,W as Ke,L as We}from"./compact-item-7546c5f2.js";const pe=h.forwardRef(({as:e,bsPrefix:n,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:s,...o},l)=>{const f=L(n,"btn"),[p,{tagName:d}]=Ae({tagName:e,disabled:a,...o});return u(d,{...p,...o,ref:l,disabled:a,className:O(s,f,i&&"active",t&&`${f}-${t}`,r&&`${f}-${r}`,o.href&&a&&"disabled")})});pe.displayName="Button";const b=pe,Se=h.forwardRef(({bsPrefix:e,className:n,variant:t,as:r="img",...i},a)=>{const s=L(e,"card-img");return u(r,{ref:a,className:O(t?`${s}-${t}`:s,n),...i})});Se.displayName="CardImg";const qe=Se,me=h.forwardRef(({bsPrefix:e,className:n,as:t="div",...r},i)=>{const a=L(e,"card-header"),s=h.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return u(be.Provider,{value:s,children:u(t,{ref:i,...r,className:O(n,a)})})});me.displayName="CardHeader";const Qe=me,Ge=de("h5"),Ve=de("h6"),ye=$("card-body"),Xe=$("card-title",{Component:Ge}),Ye=$("card-subtitle",{Component:Ve}),Ze=$("card-link",{Component:"a"}),Je=$("card-text",{Component:"p"}),ke=$("card-footer"),en=$("card-img-overlay"),we=h.forwardRef(({bsPrefix:e,className:n,bg:t,text:r,border:i,body:a=!1,children:s,as:o="div",...l},f)=>{const p=L(e,"card");return u(o,{ref:f,...l,className:O(n,p,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?u(ye,{children:s}):s})});we.displayName="Card";const N=Object.assign(we,{Img:qe,Title:Xe,Subtitle:Ye,Body:ye,Link:Ze,Text:Je,Header:Qe,Footer:ke,ImgOverlay:en});function F(){return F=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},F.apply(this,arguments)}function P(e){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},P(e)}function nn(e,n){if(P(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(P(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function tn(e){var n=nn(e,"string");return P(n)==="symbol"?n:String(n)}function V(e,n,t){return n=tn(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function rn(e){if(Array.isArray(e))return e}function an(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,a,s,o=[],l=!0,f=!1;try{if(a=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);l=!0);}catch(p){f=!0,i=p}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function X(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function sn(e,n){if(e){if(typeof e=="string")return X(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X(e,n)}}function cn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function on(e,n){return rn(e)||an(e,n)||sn(e,n)||cn()}function ln(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function un(e,n){if(e==null)return{};var t=ln(e,n),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function dn(e){if(Array.isArray(e))return e}function fn(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,a,s,o=[],l=!0,f=!1;try{if(a=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);l=!0);}catch(p){f=!0,i=p}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Y(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function hn(e,n){if(e){if(typeof e=="string")return Y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Y(e,n)}}function gn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(e,n){return dn(e)||fn(e,n)||hn(e,n)||gn()}function Z(e){var n=h.useRef();n.current=e;var t=h.useCallback(function(){for(var r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(r=n.current)===null||r===void 0?void 0:r.call.apply(r,[n].concat(a))},[]);return t}function pn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var J=pn()?h.useLayoutEffect:h.useEffect,k=function(n,t){var r=h.useRef(!0);J(function(){if(!r.current)return n()},t),J(function(){return r.current=!1,function(){r.current=!0}},[])};function ee(e){var n=h.useRef(!1),t=h.useState(e),r=B(t,2),i=r[0],a=r[1];h.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]);function s(o,l){l&&n.current||a(o)}return[i,s]}function D(e){return e!==void 0}function Sn(e,n){var t=n||{},r=t.defaultValue,i=t.value,a=t.onChange,s=t.postState,o=ee(function(){return D(i)?i:D(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),l=B(o,2),f=l[0],p=l[1],d=i!==void 0?i:f,g=s?s(d):d,C=Z(a),m=ee([d]),I=B(m,2),M=I[0],E=I[1];k(function(){var S=M[0];f!==S&&C(f,S)},[M]),k(function(){D(i)||p(i)},[i]);var w=Z(function(S,y){p(S,y),E([d],y)});return[g,w]}var c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(n){var t=n.keyCode;if(n.altKey&&!n.ctrlKey||n.metaKey||t>=c.F1&&t<=c.F12)return!1;switch(t){case c.ALT:case c.CAPS_LOCK:case c.CONTEXT_MENU:case c.CTRL:case c.DOWN:case c.END:case c.ESC:case c.HOME:case c.INSERT:case c.LEFT:case c.MAC_FF_META:case c.META:case c.NUMLOCK:case c.NUM_CENTER:case c.PAGE_DOWN:case c.PAGE_UP:case c.PAUSE:case c.PRINT_SCREEN:case c.RIGHT:case c.SHIFT:case c.UP:case c.WIN_KEY:case c.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(n){if(n>=c.ZERO&&n<=c.NINE||n>=c.NUM_ZERO&&n<=c.NUM_MULTIPLY||n>=c.A&&n<=c.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&n===0)return!0;switch(n){case c.SPACE:case c.QUESTION_MARK:case c.NUM_PLUS:case c.NUM_MINUS:case c.NUM_PERIOD:case c.NUM_DIVISION:case c.SEMICOLON:case c.DASH:case c.EQUALS:case c.COMMA:case c.PERIOD:case c.SLASH:case c.APOSTROPHE:case c.SINGLE_QUOTE:case c.OPEN_SQUARE_BRACKET:case c.BACKSLASH:case c.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},mn=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],ve=h.forwardRef(function(e,n){var t,r=e.prefixCls,i=r===void 0?"rc-switch":r,a=e.className,s=e.checked,o=e.defaultChecked,l=e.disabled,f=e.loadingIcon,p=e.checkedChildren,d=e.unCheckedChildren,g=e.onClick,C=e.onChange,m=e.onKeyDown,I=un(e,mn),M=Sn(!1,{value:s,defaultValue:o}),E=on(M,2),w=E[0],S=E[1];function y(v,H){var x=w;return l||(x=v,S(x),C==null||C(x,H)),x}function Ee(v){v.which===c.LEFT?y(!1,v):v.which===c.RIGHT&&y(!0,v),m==null||m(v)}function Ie(v){var H=y(!w,v);g==null||g(H,v)}var Me=O(i,a,(t={},V(t,"".concat(i,"-checked"),w),V(t,"".concat(i,"-disabled"),l),t));return h.createElement("button",F({},I,{type:"button",role:"switch","aria-checked":w,disabled:l,className:Me,ref:n,onKeyDown:Ee,onClick:Ie}),f,h.createElement("span",{className:"".concat(i,"-inner")},h.createElement("span",{className:"".concat(i,"-inner-checked")},p),h.createElement("span",{className:"".concat(i,"-inner-unchecked")},d)))});ve.displayName="Switch";const yn=e=>{const{componentCls:n}=e,t=`${n}-inner`;return{[n]:{[`&${n}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`},[`${t}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${n}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${n}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},wn=e=>{const{componentCls:n}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},vn=e=>{const{componentCls:n}=e,t=`${n}-handle`;return{[n]:{[t]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${t}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${n}-disabled):active`]:{[`${t}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${t}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Cn=e=>{const{componentCls:n}=e,t=`${n}-inner`;return{[n]:{[t]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${t}-checked, ${t}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`},[`${t}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${t}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:e.switchPadding*2,marginInlineEnd:-e.switchPadding*2}},[`&${n}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:-e.switchPadding*2,marginInlineEnd:e.switchPadding*2}}}}}},En=e=>{const{componentCls:n}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ne(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Oe(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},In=Fe("Switch",e=>{const n=e.fontSize*e.lineHeight,t=e.controlHeight/2,r=2,i=n-r*2,a=t-r*2,s=Be(e,{switchMinWidth:i*2+r*4,switchHeight:n,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:i/2,switchInnerMarginMax:i+r+r*2,switchPadding:r,switchPinSize:i,switchBg:e.colorBgContainer,switchMinWidthSM:a*2+r*2,switchHeightSM:t,switchInnerMarginMinSM:a/2,switchInnerMarginMaxSM:a+r+r*2,switchPinSizeSM:a,switchHandleShadow:`0 2px 4px 0 ${new $e("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:e.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[En(s),Cn(s),vn(s),wn(s),yn(s)]});var Mn=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const Ce=h.forwardRef((e,n)=>{var{prefixCls:t,size:r,disabled:i,loading:a,className:s,rootClassName:o}=e,l=Mn(e,["prefixCls","size","disabled","loading","className","rootClassName"]);const{getPrefixCls:f,direction:p}=h.useContext(Pe),d=h.useContext(xe),g=h.useContext(Re),C=(i??g)||a,m=f("switch",t),I=h.createElement("div",{className:`${m}-handle`},a&&h.createElement(We,{className:`${m}-loading-icon`})),[M,E]=In(m),w=O({[`${m}-small`]:(r||d)==="small",[`${m}-loading`]:a,[`${m}-rtl`]:p==="rtl"},s,o,E);return M(h.createElement(Ke,null,h.createElement(ve,Object.assign({},l,{prefixCls:m,className:w,disabled:C,ref:n,loadingIcon:I}))))});Ce.__ANT_SWITCH=!0;const ne=Ce;function te(e){for(var n=[],t;!(t=e.next()).done;)n.push(t.value);return n}function re(e,n,t){for(var r=0,i=t.length;r<i;){if(e(n,t[r]))return!0;r+=1}return!1}function An(e){var n=String(e).match(/^function (\w*)/);return n==null?"":n[1]}function bn(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}const j=typeof Object.is=="function"?Object.is:bn;var ie=Object.prototype.toString,$n=function(){return ie.call(arguments)==="[object Arguments]"?function(n){return ie.call(n)==="[object Arguments]"}:function(n){return R("callee",n)}}();const Nn=$n;var On=!{toString:null}.propertyIsEnumerable("toString"),ae=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],se=function(){return arguments.propertyIsEnumerable("length")}(),Pn=function(n,t){for(var r=0;r<n.length;){if(n[r]===t)return!0;r+=1}return!1},xn=typeof Object.keys=="function"&&!se?T(function(n){return Object(n)!==n?[]:Object.keys(n)}):T(function(n){if(Object(n)!==n)return[];var t,r,i=[],a=se&&Nn(n);for(t in n)R(t,n)&&(!a||t!=="length")&&(i[i.length]=t);if(On)for(r=ae.length-1;r>=0;)t=ae[r],R(t,n)&&!Pn(i,t)&&(i[i.length]=t),r-=1;return i});const ce=xn;var Rn=T(function(n){return n===null?"Null":n===void 0?"Undefined":Object.prototype.toString.call(n).slice(8,-1)});const oe=Rn;function le(e,n,t,r){var i=te(e),a=te(n);function s(o,l){return q(o,l,t.slice(),r.slice())}return!re(function(o,l){return!re(s,l,o)},a,i)}function q(e,n,t,r){if(j(e,n))return!0;var i=oe(e);if(i!==oe(n))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof n["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](n)&&typeof n["fantasy-land/equals"]=="function"&&n["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof n.equals=="function")return typeof e.equals=="function"&&e.equals(n)&&typeof n.equals=="function"&&n.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&An(e.constructor)==="Promise")return e===n;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof n&&j(e.valueOf(),n.valueOf())))return!1;break;case"Date":if(!j(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(!(e.source===n.source&&e.global===n.global&&e.ignoreCase===n.ignoreCase&&e.multiline===n.multiline&&e.sticky===n.sticky&&e.unicode===n.unicode))return!1;break}for(var a=t.length-1;a>=0;){if(t[a]===e)return r[a]===n;a-=1}switch(i){case"Map":return e.size!==n.size?!1:le(e.entries(),n.entries(),t.concat([e]),r.concat([n]));case"Set":return e.size!==n.size?!1:le(e.values(),n.values(),t.concat([e]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=ce(e);if(s.length!==ce(n).length)return!1;var o=t.concat([e]),l=r.concat([n]);for(a=s.length-1;a>=0;){var f=s[a];if(!(R(f,n)&&q(n[f],e[f],o,l)))return!1;a-=1}return!0}var Tn=K(function(n,t){return q(n,t,[],[])});const _n=Tn;function Un(e){return Object.prototype.toString.call(e)==="[object String]"}var Ln=K(function(n,t){var r=n<0?t.length+n:n;return Un(t)?t.charAt(r):t[r]});const Hn=Ln;var Dn=T(function(n){return n==null});const ue=Dn;var jn=Hn(-1);const zn=jn;var Fn=K(function(e,n){for(var t=[],r=0,i=n.length;r<i;){for(var a=r+1;a<i&&e(n[a-1],n[a]);)a+=1;t.push(n.slice(r,a)),r=a}return t});const Bn=Fn,Kn="returnUrl",Wn=()=>{const e=window.speechSynthesis;return h.useEffect(()=>()=>e.cancel(),[e]),{speak:n=>{e.cancel();const t=new SpeechSynthesisUtterance(n);e.speak(t)}}},qn=e=>async(n,t)=>{const r=await e.terms.get(n);r&&(r.answersCount+=1,t&&(r.correctAnswersCount+=1),await e.terms.put(r))},Q=Te({key:"practice/session",default:{config:void 0,isActive:!1,queue:[],isRevealed:!1}}),Qn=W(N.Body)`
  overflow: auto;
`,Gn=W.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
`,Vn=()=>{const e=_e(),{pathname:n}=Ue(),{speak:t}=Wn(),{db:r,termsRepository:i}=fe(),a=Le(),[{queue:s,isRevealed:o,config:l},f]=he(Q),p=zn(s),d=(l==null?void 0:l.playAfterReveal)??!1,{data:g,isFetching:C}=He(G.terms.id(p),({signal:S})=>ue(p)?void 0:i.getById(p,S),{enabled:!ue(p),onError:S=>console.error(S)}),{mutateAsync:m,isLoading:I}=ge(async({id:S,isCorrect:y})=>await qn(r)(S,y),{onSuccess:(S,{id:y})=>a.invalidateQueries(G.terms.id(y))}),M=()=>{f(S=>({...S,isRevealed:!0})),g&&d&&t(g.word)},E=S=>{(g==null?void 0:g.id)!==void 0&&m({id:g.id,isCorrect:S}).then(()=>f(y=>({...y,queue:y.queue.slice(0,-1),isRevealed:!1}))).catch(console.error)},w=()=>{g!=null&&g.id&&e(`/records/${g.id}`,{state:{[Kn]:n}})};return C?u(z,{label:"Loading term ..."}):I?u(z,{label:"Updating term answers ..."}):g?A(_,{children:[u(N,{children:A(N.Body,{className:"text-center",children:[u("div",{children:g.translation}),A("div",{children:["(",u("i",{children:g.partOfSpeech}),")"]})]})}),u(N,{children:u(Qn,{className:"text-center",children:g.definition})}),u(N,{children:u(N.Body,{className:"text-center",children:o?A(Gn,{children:[g.word,u(b,{onClick:()=>t(g.word),children:"Play it again"})]}):"?"})}),o?A(_,{children:[u(b,{variant:"success",onClick:()=>E(!0),children:"I was correct"}),u(b,{variant:"danger",onClick:()=>E(!1),children:"I was incorrect"})]}):u(b,{onClick:M,children:"Reveal answer"}),u(b,{onClick:w,children:"Edit current term"})]}):u("p",{children:"You've finished all the terms!"})},Xn=e=>e.definition!=="",Yn=e=>e.translation!=="";function Zn(e){const n=[...e];let t=n.length;for(;t;){const r=Math.floor(Math.random()*t);t-=1;const i=n[t];n[t]=n[r],n[r]=i}return n}function Jn({answersCount:e,correctAnswersCount:n}){return e+n}function kn({answersCount:e,correctAnswersCount:n}){return e===0?0:Math.floor(100/e*n)}var U=(e=>(e.Relative="relative",e.Absolute="absolute",e))(U||{});const et=e=>typeof e=="string"&&Object.values(U).some(_n(e)),nt={relative:kn,absolute:Jn},tt=e=>async({ignoreScoreOfNewTerms:n,scoreAlgorithm:t,tags:r})=>{const i=[],a=new Set(r);return await e.terms.filter(s=>(Yn(s)||Xn(s))&&(a.size===0||s.tags.some(o=>a.has(o)))).each(s=>{i.push({id:s.id,score:n&&s.answersCount<10?0:nt[t](s)})}),i.sort((s,o)=>o.score-s.score),Bn((s,o)=>s.score===o.score,i).map(s=>Zn(s)).reduce((s,o)=>[...s,...o.map(l=>l.id)],[])},rt=()=>{const{db:e}=fe(),n=De(Q),[t,r]=h.useState({scoreAlgorithm:U.Relative,playAfterReveal:!1,ignoreScoreOfNewTerms:!1,tags:[]}),{isLoading:i,mutateAsync:a}=ge(tt(e),{onError:d=>console.error(d)}),s=()=>{a(t).then(d=>n({config:t,queue:d,isActive:!0,isRevealed:!1})).catch(console.error)},o=d=>r(g=>({...g,...d}));if(i)return u(z,{label:"Preparing practice session queue ..."});const{scoreAlgorithm:l,playAfterReveal:f,ignoreScoreOfNewTerms:p}=t;return A(_,{children:[u(ze.Group,{buttonStyle:"solid",name:"scoreAlgorithm",optionType:"button",options:Object.values(U).map(d=>({label:d,value:d,style:{flexGrow:1,textAlign:"center"}})),style:{display:"flex"},value:l,onChange:({target:{value:d}})=>o({scoreAlgorithm:et(d)?d:void 0})}),u(ne,{checked:f,checkedChildren:"Play word after reveal",unCheckedChildren:"Play word after reveal",onChange:d=>o({playAfterReveal:d})}),u(ne,{checked:p,checkedChildren:"Ignore score for items with less then 11 answers",unCheckedChildren:"Don't ignore score for items with less then 11 answers",onChange:d=>o({ignoreScoreOfNewTerms:d})}),u(je,{style:{width:"100%"},value:t.tags,onChange:d=>o({tags:d})}),u(b,{onClick:s,children:"Start session"})]})},it=W.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,ut=()=>{const[{isActive:e},n]=he(Q);return u(it,{children:e?A(_,{children:[u(Vn,{}),u(b,{onClick:()=>{n(r=>({...r,config:void 0,queue:[],isActive:!1}))},children:"End session"})]}):u(rt,{})})};export{ut as default};
