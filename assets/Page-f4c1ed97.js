import{r as f,u as L,a as be,j as u,c as O,C as Ae,b as $,d as he,T as $e,e as Ne,g as Oe,f as Pe,S as xe,D as Re,_ as R,h as T,i as K,R as Te,s as W,k as _e,l as Ue,m as ge,n as Le,o as pe,p as He,q as Se,t as z,v as b,F as _,w as De}from"./index-40d45384.js";import{Q as X}from"./queryKeys-ceb66054.js";import{T as je}from"./Tags-2cb86c6e.js";import{R as ze}from"./index-4a868700.js";import{g as Fe,m as Be,W as Ke,L as We}from"./compact-item-47919f85.js";const qe={variant:"primary",active:!1,disabled:!1},q=f.forwardRef(({as:e,bsPrefix:n,variant:t,size:r,active:i,className:a,...s},o)=>{const l=L(n,"btn"),[h,{tagName:p}]=be({tagName:e,...s});return u(p,{...h,...s,ref:o,className:O(a,l,i&&"active",t&&`${l}-${t}`,r&&`${l}-${r}`,s.href&&s.disabled&&"disabled")})});q.displayName="Button";q.defaultProps=qe;const A=q,me=f.forwardRef(({bsPrefix:e,className:n,variant:t,as:r="img",...i},a)=>{const s=L(e,"card-img");return u(r,{ref:a,className:O(t?`${s}-${t}`:s,n),...i})});me.displayName="CardImg";const Qe=me,ye=f.forwardRef(({bsPrefix:e,className:n,as:t="div",...r},i)=>{const a=L(e,"card-header"),s=f.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return u(Ae.Provider,{value:s,children:u(t,{ref:i,...r,className:O(n,a)})})});ye.displayName="CardHeader";const Ge=ye,Ve=he("h5"),Xe=he("h6"),we=$("card-body"),Ye=$("card-title",{Component:Ve}),Ze=$("card-subtitle",{Component:Xe}),Je=$("card-link",{Component:"a"}),ke=$("card-text",{Component:"p"}),en=$("card-footer"),nn=$("card-img-overlay"),tn={body:!1},Q=f.forwardRef(({bsPrefix:e,className:n,bg:t,text:r,border:i,body:a,children:s,as:o="div",...l},h)=>{const p=L(e,"card");return u(o,{ref:h,...l,className:O(n,p,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?u(we,{children:s}):s})});Q.displayName="Card";Q.defaultProps=tn;const N=Object.assign(Q,{Img:Qe,Title:Ye,Subtitle:Ze,Body:we,Link:Je,Text:ke,Header:Ge,Footer:en,ImgOverlay:nn});function F(){return F=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},F.apply(this,arguments)}function P(e){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},P(e)}function rn(e,n){if(P(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(P(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function an(e){var n=rn(e,"string");return P(n)==="symbol"?n:String(n)}function Y(e,n,t){return n=an(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function sn(e){if(Array.isArray(e))return e}function cn(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,a,s,o=[],l=!0,h=!1;try{if(a=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);l=!0);}catch(p){h=!0,i=p}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(h)throw i}}return o}}function Z(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function on(e,n){if(e){if(typeof e=="string")return Z(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(e,n)}}function ln(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(e,n){return sn(e)||cn(e,n)||on(e,n)||ln()}function dn(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function fn(e,n){if(e==null)return{};var t=dn(e,n),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function hn(e){if(Array.isArray(e))return e}function gn(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,a,s,o=[],l=!0,h=!1;try{if(a=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);l=!0);}catch(p){h=!0,i=p}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(h)throw i}}return o}}function J(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function pn(e,n){if(e){if(typeof e=="string")return J(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return J(e,n)}}function Sn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(e,n){return hn(e)||gn(e,n)||pn(e,n)||Sn()}function k(e){var n=f.useRef();n.current=e;var t=f.useCallback(function(){for(var r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(r=n.current)===null||r===void 0?void 0:r.call.apply(r,[n].concat(a))},[]);return t}function mn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var ee=mn()?f.useLayoutEffect:f.useEffect,ne=function(n,t){var r=f.useRef(!0);ee(function(){if(!r.current)return n()},t),ee(function(){return r.current=!1,function(){r.current=!0}},[])};function te(e){var n=f.useRef(!1),t=f.useState(e),r=B(t,2),i=r[0],a=r[1];f.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]);function s(o,l){l&&n.current||a(o)}return[i,s]}function D(e){return e!==void 0}function yn(e,n){var t=n||{},r=t.defaultValue,i=t.value,a=t.onChange,s=t.postState,o=te(function(){return D(i)?i:D(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),l=B(o,2),h=l[0],p=l[1],d=i!==void 0?i:h,g=s?s(d):d,C=k(a),m=te([d]),I=B(m,2),M=I[0],E=I[1];ne(function(){var S=M[0];h!==S&&C(h,S)},[M]),ne(function(){D(i)||p(i)},[i]);var w=k(function(S,y){p(S,y),E([d],y)});return[g,w]}var c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(n){var t=n.keyCode;if(n.altKey&&!n.ctrlKey||n.metaKey||t>=c.F1&&t<=c.F12)return!1;switch(t){case c.ALT:case c.CAPS_LOCK:case c.CONTEXT_MENU:case c.CTRL:case c.DOWN:case c.END:case c.ESC:case c.HOME:case c.INSERT:case c.LEFT:case c.MAC_FF_META:case c.META:case c.NUMLOCK:case c.NUM_CENTER:case c.PAGE_DOWN:case c.PAGE_UP:case c.PAUSE:case c.PRINT_SCREEN:case c.RIGHT:case c.SHIFT:case c.UP:case c.WIN_KEY:case c.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(n){if(n>=c.ZERO&&n<=c.NINE||n>=c.NUM_ZERO&&n<=c.NUM_MULTIPLY||n>=c.A&&n<=c.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&n===0)return!0;switch(n){case c.SPACE:case c.QUESTION_MARK:case c.NUM_PLUS:case c.NUM_MINUS:case c.NUM_PERIOD:case c.NUM_DIVISION:case c.SEMICOLON:case c.DASH:case c.EQUALS:case c.COMMA:case c.PERIOD:case c.SLASH:case c.APOSTROPHE:case c.SINGLE_QUOTE:case c.OPEN_SQUARE_BRACKET:case c.BACKSLASH:case c.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},wn=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],ve=f.forwardRef(function(e,n){var t,r=e.prefixCls,i=r===void 0?"rc-switch":r,a=e.className,s=e.checked,o=e.defaultChecked,l=e.disabled,h=e.loadingIcon,p=e.checkedChildren,d=e.unCheckedChildren,g=e.onClick,C=e.onChange,m=e.onKeyDown,I=fn(e,wn),M=yn(!1,{value:s,defaultValue:o}),E=un(M,2),w=E[0],S=E[1];function y(v,H){var x=w;return l||(x=v,S(x),C==null||C(x,H)),x}function Ee(v){v.which===c.LEFT?y(!1,v):v.which===c.RIGHT&&y(!0,v),m==null||m(v)}function Ie(v){var H=y(!w,v);g==null||g(H,v)}var Me=O(i,a,(t={},Y(t,"".concat(i,"-checked"),w),Y(t,"".concat(i,"-disabled"),l),t));return f.createElement("button",F({},I,{type:"button",role:"switch","aria-checked":w,disabled:l,className:Me,ref:n,onKeyDown:Ee,onClick:Ie}),h,f.createElement("span",{className:"".concat(i,"-inner")},f.createElement("span",{className:"".concat(i,"-inner-checked")},p),f.createElement("span",{className:"".concat(i,"-inner-unchecked")},d)))});ve.displayName="Switch";const vn=e=>{const{componentCls:n}=e,t=`${n}-inner`;return{[n]:{[`&${n}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`},[`${t}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${n}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${n}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},Cn=e=>{const{componentCls:n}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},En=e=>{const{componentCls:n}=e,t=`${n}-handle`;return{[n]:{[t]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${t}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${n}-disabled):active`]:{[`${t}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${t}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},In=e=>{const{componentCls:n}=e,t=`${n}-inner`;return{[n]:{[t]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${t}-checked, ${t}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`},[`${t}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${t}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:e.switchPadding*2,marginInlineEnd:-e.switchPadding*2}},[`&${n}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:-e.switchPadding*2,marginInlineEnd:e.switchPadding*2}}}}}},Mn=e=>{const{componentCls:n}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ne(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Oe(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},bn=Fe("Switch",e=>{const n=e.fontSize*e.lineHeight,t=e.controlHeight/2,r=2,i=n-r*2,a=t-r*2,s=Be(e,{switchMinWidth:i*2+r*4,switchHeight:n,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:i/2,switchInnerMarginMax:i+r+r*2,switchPadding:r,switchPinSize:i,switchBg:e.colorBgContainer,switchMinWidthSM:a*2+r*2,switchHeightSM:t,switchInnerMarginMinSM:a/2,switchInnerMarginMaxSM:a+r+r*2,switchPinSizeSM:a,switchHandleShadow:`0 2px 4px 0 ${new $e("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:e.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Mn(s),In(s),En(s),Cn(s),vn(s)]});var An=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};const Ce=f.forwardRef((e,n)=>{var{prefixCls:t,size:r,disabled:i,loading:a,className:s,rootClassName:o}=e,l=An(e,["prefixCls","size","disabled","loading","className","rootClassName"]);const{getPrefixCls:h,direction:p}=f.useContext(Pe),d=f.useContext(xe),g=f.useContext(Re),C=(i??g)||a,m=h("switch",t),I=f.createElement("div",{className:`${m}-handle`},a&&f.createElement(We,{className:`${m}-loading-icon`})),[M,E]=bn(m),w=O({[`${m}-small`]:(r||d)==="small",[`${m}-loading`]:a,[`${m}-rtl`]:p==="rtl"},s,o,E);return M(f.createElement(Ke,null,f.createElement(ve,Object.assign({},l,{prefixCls:m,className:w,disabled:C,ref:n,loadingIcon:I}))))});Ce.__ANT_SWITCH=!0;const re=Ce;function ie(e){for(var n=[],t;!(t=e.next()).done;)n.push(t.value);return n}function ae(e,n,t){for(var r=0,i=t.length;r<i;){if(e(n,t[r]))return!0;r+=1}return!1}function $n(e){var n=String(e).match(/^function (\w*)/);return n==null?"":n[1]}function Nn(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}const j=typeof Object.is=="function"?Object.is:Nn;var se=Object.prototype.toString,On=function(){return se.call(arguments)==="[object Arguments]"?function(n){return se.call(n)==="[object Arguments]"}:function(n){return R("callee",n)}}();const Pn=On;var xn=!{toString:null}.propertyIsEnumerable("toString"),ce=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],oe=function(){return arguments.propertyIsEnumerable("length")}(),Rn=function(n,t){for(var r=0;r<n.length;){if(n[r]===t)return!0;r+=1}return!1},Tn=typeof Object.keys=="function"&&!oe?T(function(n){return Object(n)!==n?[]:Object.keys(n)}):T(function(n){if(Object(n)!==n)return[];var t,r,i=[],a=oe&&Pn(n);for(t in n)R(t,n)&&(!a||t!=="length")&&(i[i.length]=t);if(xn)for(r=ce.length-1;r>=0;)t=ce[r],R(t,n)&&!Rn(i,t)&&(i[i.length]=t),r-=1;return i});const le=Tn;var _n=T(function(n){return n===null?"Null":n===void 0?"Undefined":Object.prototype.toString.call(n).slice(8,-1)});const ue=_n;function de(e,n,t,r){var i=ie(e),a=ie(n);function s(o,l){return G(o,l,t.slice(),r.slice())}return!ae(function(o,l){return!ae(s,l,o)},a,i)}function G(e,n,t,r){if(j(e,n))return!0;var i=ue(e);if(i!==ue(n))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof n["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](n)&&typeof n["fantasy-land/equals"]=="function"&&n["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof n.equals=="function")return typeof e.equals=="function"&&e.equals(n)&&typeof n.equals=="function"&&n.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&$n(e.constructor)==="Promise")return e===n;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof n&&j(e.valueOf(),n.valueOf())))return!1;break;case"Date":if(!j(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(!(e.source===n.source&&e.global===n.global&&e.ignoreCase===n.ignoreCase&&e.multiline===n.multiline&&e.sticky===n.sticky&&e.unicode===n.unicode))return!1;break}for(var a=t.length-1;a>=0;){if(t[a]===e)return r[a]===n;a-=1}switch(i){case"Map":return e.size!==n.size?!1:de(e.entries(),n.entries(),t.concat([e]),r.concat([n]));case"Set":return e.size!==n.size?!1:de(e.values(),n.values(),t.concat([e]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=le(e);if(s.length!==le(n).length)return!1;var o=t.concat([e]),l=r.concat([n]);for(a=s.length-1;a>=0;){var h=s[a];if(!(R(h,n)&&G(n[h],e[h],o,l)))return!1;a-=1}return!0}var Un=K(function(n,t){return G(n,t,[],[])});const Ln=Un;function Hn(e){return Object.prototype.toString.call(e)==="[object String]"}var Dn=K(function(n,t){var r=n<0?t.length+n:n;return Hn(t)?t.charAt(r):t[r]});const jn=Dn;var zn=T(function(n){return n==null});const fe=zn;var Fn=jn(-1);const Bn=Fn;var Kn=K(function(e,n){for(var t=[],r=0,i=n.length;r<i;){for(var a=r+1;a<i&&e(n[a-1],n[a]);)a+=1;t.push(n.slice(r,a)),r=a}return t});const Wn=Kn,qn="returnUrl",Qn=()=>{const e=window.speechSynthesis;return f.useEffect(()=>()=>e.cancel(),[e]),{speak:n=>{e.cancel();const t=new SpeechSynthesisUtterance(n);e.speak(t)}}},Gn=e=>async(n,t)=>{const r=await e.terms.get(n);r&&(r.answersCount+=1,t&&(r.correctAnswersCount+=1),await e.terms.put(r))},V=Te({key:"practice/session",default:{config:void 0,isActive:!1,queue:[],isRevealed:!1}}),Vn=W(N.Body)`
  overflow: auto;
`,Xn=W.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
`,Yn=()=>{const e=_e(),{pathname:n}=Ue(),{speak:t}=Qn(),{db:r,termsRepository:i}=ge(),a=Le(),[{queue:s,isRevealed:o,config:l},h]=pe(V),p=Bn(s),d=(l==null?void 0:l.playAfterReveal)??!1,{data:g,isFetching:C}=He(X.terms.id(p),({signal:S})=>fe(p)?void 0:i.getById(p,S),{enabled:!fe(p),onError:S=>console.error(S)}),{mutateAsync:m,isLoading:I}=Se(async({id:S,isCorrect:y})=>await Gn(r)(S,y),{onSuccess:(S,{id:y})=>a.invalidateQueries(X.terms.id(y))}),M=()=>{h(S=>({...S,isRevealed:!0})),g&&d&&t(g.word)},E=S=>{(g==null?void 0:g.id)!==void 0&&m({id:g.id,isCorrect:S}).then(()=>h(y=>({...y,queue:y.queue.slice(0,-1),isRevealed:!1}))).catch(console.error)},w=()=>{g!=null&&g.id&&e(`/records/${g.id}`,{state:{[qn]:n}})};return C?u(z,{label:"Loading term ..."}):I?u(z,{label:"Updating term answers ..."}):g?b(_,{children:[u(N,{children:b(N.Body,{className:"text-center",children:[u("div",{children:g.translation}),b("div",{children:["(",u("i",{children:g.partOfSpeech}),")"]})]})}),u(N,{children:u(Vn,{className:"text-center",children:g.definition})}),u(N,{children:u(N.Body,{className:"text-center",children:o?b(Xn,{children:[g.word,u(A,{onClick:()=>t(g.word),children:"Play it again"})]}):"?"})}),o?b(_,{children:[u(A,{variant:"success",onClick:()=>E(!0),children:"I was correct"}),u(A,{variant:"danger",onClick:()=>E(!1),children:"I was incorrect"})]}):u(A,{onClick:M,children:"Reveal answer"}),u(A,{onClick:w,children:"Edit current term"})]}):u("p",{children:"You've finished all the terms!"})},Zn=e=>e.definition!=="",Jn=e=>e.translation!=="";function kn(e){const n=[...e];let t=n.length;for(;t;){const r=Math.floor(Math.random()*t);t-=1;const i=n[t];n[t]=n[r],n[r]=i}return n}function et({answersCount:e,correctAnswersCount:n}){return e+n}function nt({answersCount:e,correctAnswersCount:n}){return e===0?0:Math.floor(100/e*n)}var U=(e=>(e.Relative="relative",e.Absolute="absolute",e))(U||{});const tt=e=>typeof e=="string"&&Object.values(U).some(Ln(e)),rt={relative:nt,absolute:et},it=e=>async({ignoreScoreOfNewTerms:n,scoreAlgorithm:t,tags:r})=>{const i=[],a=new Set(r);return await e.terms.filter(s=>(Jn(s)||Zn(s))&&(a.size===0||s.tags.some(o=>a.has(o)))).each(s=>{i.push({id:s.id,score:n&&s.answersCount<10?0:rt[t](s)})}),i.sort((s,o)=>o.score-s.score),Wn((s,o)=>s.score===o.score,i).map(s=>kn(s)).reduce((s,o)=>[...s,...o.map(l=>l.id)],[])},at=()=>{const{db:e}=ge(),n=De(V),[t,r]=f.useState({scoreAlgorithm:U.Relative,playAfterReveal:!1,ignoreScoreOfNewTerms:!1,tags:[]}),{isLoading:i,mutateAsync:a}=Se(it(e),{onError:d=>console.error(d)}),s=()=>{a(t).then(d=>n({config:t,queue:d,isActive:!0,isRevealed:!1})).catch(console.error)},o=d=>r(g=>({...g,...d}));if(i)return u(z,{label:"Preparing practice session queue ..."});const{scoreAlgorithm:l,playAfterReveal:h,ignoreScoreOfNewTerms:p}=t;return b(_,{children:[u(ze.Group,{buttonStyle:"solid",name:"scoreAlgorithm",optionType:"button",options:Object.values(U).map(d=>({label:d,value:d,style:{flexGrow:1,textAlign:"center"}})),style:{display:"flex"},value:l,onChange:({target:{value:d}})=>o({scoreAlgorithm:tt(d)?d:void 0})}),u(re,{checked:h,checkedChildren:"Play word after reveal",unCheckedChildren:"Play word after reveal",onChange:d=>o({playAfterReveal:d})}),u(re,{checked:p,checkedChildren:"Ignore score for items with less then 11 answers",unCheckedChildren:"Don't ignore score for items with less then 11 answers",onChange:d=>o({ignoreScoreOfNewTerms:d})}),u(je,{style:{width:"100%"},value:t.tags,onChange:d=>o({tags:d})}),u(A,{onClick:s,children:"Start session"})]})},st=W.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,ft=()=>{const[{isActive:e},n]=pe(V);return u(st,{children:e?b(_,{children:[u(Yn,{}),u(A,{onClick:()=>{n(r=>({...r,config:void 0,queue:[],isActive:!1}))},children:"End session"})]}):u(at,{})})};export{ft as default};
